import{h as ae,d as ie,cf as be,cg as ge,i as ve,a9 as xe,n as Se,a as se,r as A,c as H,Z as ue,j as g,B as le,G as ce,a2 as pe,a3 as de,K as Pe}from"./index-3595f095.js";const je=ae({name:"pin/state",initialState:{},reducers:{}}),_e=je.reducer,V=ie("profile/data/createPin",async(j,{rejectWithValue:f})=>{try{return(await be(j)).data}catch(p){return f(p.response.data)}}),q=ie("profile/data/updatePin",async(j,{rejectWithValue:f})=>{try{return(await ge(j)).data}catch(p){return f(p.response.data)}}),fe=ae({name:"pin/data",initialState:{loading:!1,status:"idle",message:""},reducers:{setStatus:(j,f)=>{j.status=f.payload}},extraReducers:j=>{j.addCase(V.pending,f=>{f.loading=!0}).addCase(V.fulfilled,(f,p)=>{f.loading=!1;const{status:u}=p.payload;f.status=u}).addCase(V.rejected,(f,p)=>{f.loading=!1;const{status:u,message:s}=p.payload;f.status=u,f.message=s}).addCase(q.pending,f=>{f.loading=!0}).addCase(q.fulfilled,(f,p)=>{f.loading=!1;const{status:u}=p.payload;f.status=u}).addCase(q.rejected,(f,p)=>{f.loading=!1;const{status:u,message:s}=p.payload;f.status=u,f.message=s})}}),{setStatus:M}=fe.actions,we=fe.reducer,Ce=ve({state:_e,data:we});var he={exports:{}};(function(j,f){(function(p,u){j.exports=u()})(xe,function(){return function(p){var u={};function s(i){if(u[i])return u[i].exports;var n=u[i]={i,l:!1,exports:{}};return p[i].call(n.exports,n,n.exports,s),n.l=!0,n.exports}return s.m=p,s.c=u,s.d=function(i,n,b){s.o(i,n)||Object.defineProperty(i,n,{enumerable:!0,get:b})},s.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},s.t=function(i,n){if(1&n&&(i=s(i)),8&n||4&n&&typeof i=="object"&&i&&i.__esModule)return i;var b=Object.create(null);if(s.r(b),Object.defineProperty(b,"default",{enumerable:!0,value:i}),2&n&&typeof i!="string")for(var d in i)s.d(b,d,(function(h){return i[h]}).bind(null,d));return b},s.n=function(i){var n=i&&i.__esModule?function(){return i.default}:function(){return i};return s.d(n,"a",n),n},s.o=function(i,n){return Object.prototype.hasOwnProperty.call(i,n)},s.p="/dist/",s(s.s=3)}([function(p,u,s){p.exports=s(5)()},function(p,u,s){function i(b){return function(){return b}}var n=function(){};n.thatReturns=i,n.thatReturnsFalse=i(!1),n.thatReturnsTrue=i(!0),n.thatReturnsNull=i(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(b){return b},p.exports=n},function(p,u,s){p.exports=s(8)},function(p,u,s){Object.defineProperty(u,"__esModule",{value:!0});var i,n=s(4),b=(i=n)&&i.__esModule?i:{default:i};u.default=b.default},function(p,u,s){Object.defineProperty(u,"__esModule",{value:!0});var i=function(){function v(l,o){for(var r=0;r<o.length;r++){var t=o[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(l,t.key,t)}}return function(l,o,r){return o&&v(l.prototype,o),r&&v(l,r),l}}(),n=_(s(0)),b=s(2),d=_(b),h=_(s(11));function _(v){return v&&v.__esModule?v:{default:v}}var y=function(v){function l(o){(function(t,c){if(!(t instanceof c))throw new TypeError("Cannot call a class as a function")})(this,l);var r=function(t,c){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||typeof c!="object"&&typeof c!="function"?t:c}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,o));return r.values=Array(o.length).fill("").map(function(t,c){return o.initialValue.toString()[c]||""}),r.elements=[],r.currentIndex=0,r.onPaste=r.onPaste.bind(r),r}return function(o,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);o.prototype=Object.create(r&&r.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(o,r):o.__proto__=r)}(l,v),i(l,[{key:"componentDidMount",value:function(){this.props.focus&&this.props.length&&this.elements[0].focus()}},{key:"clear",value:function(){this.elements.forEach(function(o){return o.clear()}),this.values=this.values.map(function(){}),this.elements[0].focus()}},{key:"focus",value:function(){this.props.length&&this.elements[0].focus()}},{key:"onItemChange",value:function(o,r,t){var c=this.props,P=c.length,k=c.onComplete,I=c.onChange,N=t;this.values[t]=o,o.length===1&&t<P-1&&(N+=1,this.elements[N].focus());var T=this.values.join("");if(r||I(T,N),T.length===P){if(r&&t<P-1)return;k(T,N)}}},{key:"onBackspace",value:function(o){o>0&&this.elements[o-1].focus()}},{key:"onPaste",value:function(o){var r=this.props.length;o.length===r&&this.elements.forEach(function(t,c){return t.update(o[c],!0)})}},{key:"render",value:function(){var o=this;return d.default.createElement("div",{style:this.props.style,className:"pincode-input-container"},this.values.map(function(r,t){return d.default.createElement(h.default,{initialValue:r,ref:function(c){return o.elements[t]=c},key:t,disabled:o.props.disabled,onBackspace:function(){return o.onBackspace(t)},secret:o.props.secret||!1,onChange:function(c,P){return o.onItemChange(c,P,t)},type:o.props.type,inputMode:o.props.inputMode,validate:o.props.validate,inputStyle:o.props.inputStyle,inputFocusStyle:o.props.inputFocusStyle,autoSelect:o.props.autoSelect,onPaste:t===0?o.onPaste:null,regexCriteria:o.props.regexCriteria,ariaLabel:o.props.ariaLabel,placeholder:o.props.placeholder,secretDelay:o.props.secretDelay})}))}}]),l}(b.Component);y.propTypes={initialValue:n.default.oneOfType([n.default.string,n.default.number]),length:n.default.number.isRequired,type:n.default.string,onComplete:n.default.func,validate:n.default.func,secret:n.default.bool,disabled:n.default.bool,focus:n.default.bool,onChange:n.default.func,inputMode:n.default.string,style:n.default.object,inputStyle:n.default.object,inputFocusStyle:n.default.object,autoSelect:n.default.bool,regexCriteria:n.default.any,ariaLabel:n.default.string,placeholder:n.default.string},y.defaultProps={initialValue:"",type:"numeric",secret:!1,validate:null,focus:!1,disabled:!1,onChange:function(){},onComplete:function(){},inputMode:void 0,style:{},inputStyle:{},inputFocusStyle:{},autoSelect:!0,regexCriteria:/^[a-zA-Z0-9]+$/,ariaLabel:"",placeholder:""},u.default=y},function(p,u,s){var i=s(1),n=s(6),b=s(7);p.exports=function(){function d(y,v,l,o,r,t){t!==b&&n(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function h(){return d}d.isRequired=d;var _={array:d,bool:d,func:d,number:d,object:d,string:d,symbol:d,any:d,arrayOf:h,element:d,instanceOf:h,node:d,objectOf:h,oneOf:h,oneOfType:h,shape:h,exact:h};return _.checkPropTypes=i,_.PropTypes=_,_}},function(p,u,s){p.exports=function(i,n,b,d,h,_,y,v){if(!i){var l;if(n===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=[b,d,h,_,y,v],r=0;(l=new Error(n.replace(/%s/g,function(){return o[r++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}}},function(p,u,s){p.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(p,u,s){/** @license React v16.2.0
* react.production.min.js
*
* Copyright (c) 2013-present, Facebook, Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var i=s(9),n=s(10),b=s(1),d=typeof Symbol=="function"&&Symbol.for,h=d?Symbol.for("react.element"):60103,_=d?Symbol.for("react.call"):60104,y=d?Symbol.for("react.return"):60105,v=d?Symbol.for("react.portal"):60106,l=d?Symbol.for("react.fragment"):60107,o=typeof Symbol=="function"&&Symbol.iterator;function r(e){for(var a=arguments.length-1,x="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,m=0;m<a;m++)x+="&args[]="+encodeURIComponent(arguments[m+1]);throw(a=Error(x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.")).name="Invariant Violation",a.framesToPop=1,a}var t={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}};function c(e,a,x){this.props=e,this.context=a,this.refs=n,this.updater=x||t}function P(e,a,x){this.props=e,this.context=a,this.refs=n,this.updater=x||t}function k(){}c.prototype.isReactComponent={},c.prototype.setState=function(e,a){typeof e!="object"&&typeof e!="function"&&e!=null&&r("85"),this.updater.enqueueSetState(this,e,a,"setState")},c.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},k.prototype=c.prototype;var I=P.prototype=new k;function N(e,a,x){this.props=e,this.context=a,this.refs=n,this.updater=x||t}I.constructor=P,i(I,c.prototype),I.isPureReactComponent=!0;var T=N.prototype=new k;T.constructor=N,i(T,c.prototype),T.unstable_isAsyncReactComponent=!0,T.render=function(){return this.props.children};var D={current:null},U=Object.prototype.hasOwnProperty,L={key:!0,ref:!0,__self:!0,__source:!0};function J(e,a,x){var m,S={},C=null,E=null;if(a!=null)for(m in a.ref!==void 0&&(E=a.ref),a.key!==void 0&&(C=""+a.key),a)U.call(a,m)&&!L.hasOwnProperty(m)&&(S[m]=a[m]);var w=arguments.length-2;if(w===1)S.children=x;else if(1<w){for(var O=Array(w),R=0;R<w;R++)O[R]=arguments[R+2];S.children=O}if(e&&e.defaultProps)for(m in w=e.defaultProps)S[m]===void 0&&(S[m]=w[m]);return{$$typeof:h,type:e,key:C,ref:E,props:S,_owner:D.current}}function Y(e){return typeof e=="object"&&e!==null&&e.$$typeof===h}var Q=/\/+/g,B=[];function X(e,a,x,m){if(B.length){var S=B.pop();return S.result=e,S.keyPrefix=a,S.func=x,S.context=m,S.count=0,S}return{result:e,keyPrefix:a,func:x,context:m,count:0}}function ee(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>B.length&&B.push(e)}function $(e,a,x,m){var S=typeof e;S!=="undefined"&&S!=="boolean"||(e=null);var C=!1;if(e===null)C=!0;else switch(S){case"string":case"number":C=!0;break;case"object":switch(e.$$typeof){case h:case _:case y:case v:C=!0}}if(C)return x(m,e,a===""?"."+z(e,0):a),1;if(C=0,a=a===""?".":a+":",Array.isArray(e))for(var E=0;E<e.length;E++){var w=a+z(S=e[E],E);C+=$(S,w,x,m)}else if(e==null?w=null:w=typeof(w=o&&e[o]||e["@@iterator"])=="function"?w:null,typeof w=="function")for(e=w.call(e),E=0;!(S=e.next()).done;)C+=$(S=S.value,w=a+z(S,E++),x,m);else S==="object"&&r("31",(x=""+e)=="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":x,"");return C}function z(e,a){return typeof e=="object"&&e!==null&&e.key!=null?function(x){var m={"=":"=0",":":"=2"};return"$"+(""+x).replace(/[=:]/g,function(S){return m[S]})}(e.key):a.toString(36)}function ye(e,a){e.func.call(e.context,a,e.count++)}function me(e,a,x){var m=e.result,S=e.keyPrefix;e=e.func.call(e.context,a,e.count++),Array.isArray(e)?Z(e,m,x,b.thatReturnsArgument):e!=null&&(Y(e)&&(a=S+(!e.key||a&&a.key===e.key?"":(""+e.key).replace(Q,"$&/")+"/")+x,e={$$typeof:h,type:e.type,key:a,ref:e.ref,props:e.props,_owner:e._owner}),m.push(e))}function Z(e,a,x,m,S){var C="";x!=null&&(C=(""+x).replace(Q,"$&/")+"/"),a=X(a,C,m,S),e==null||$(e,"",me,a),ee(a)}var te={Children:{map:function(e,a,x){if(e==null)return e;var m=[];return Z(e,m,null,a,x),m},forEach:function(e,a,x){if(e==null)return e;a=X(null,null,a,x),e==null||$(e,"",ye,a),ee(a)},count:function(e){return e==null?0:$(e,"",b.thatReturnsNull,null)},toArray:function(e){var a=[];return Z(e,a,null,b.thatReturnsArgument),a},only:function(e){return Y(e)||r("143"),e}},Component:c,PureComponent:P,unstable_AsyncComponent:N,Fragment:l,createElement:J,cloneElement:function(e,a,x){var m=i({},e.props),S=e.key,C=e.ref,E=e._owner;if(a!=null){if(a.ref!==void 0&&(C=a.ref,E=D.current),a.key!==void 0&&(S=""+a.key),e.type&&e.type.defaultProps)var w=e.type.defaultProps;for(O in a)U.call(a,O)&&!L.hasOwnProperty(O)&&(m[O]=a[O]===void 0&&w!==void 0?w[O]:a[O])}var O=arguments.length-2;if(O===1)m.children=x;else if(1<O){w=Array(O);for(var R=0;R<O;R++)w[R]=arguments[R+2];m.children=w}return{$$typeof:h,type:e.type,key:S,ref:C,props:m,_owner:E}},createFactory:function(e){var a=J.bind(null,e);return a.type=e,a},isValidElement:Y,version:"16.2.0",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:D,assign:i}},ne=Object.freeze({default:te}),K=ne&&te||ne;p.exports=K.default?K.default:K},function(p,u,s){/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var i=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable;function d(h){if(h==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(h)}p.exports=function(){try{if(!Object.assign)return!1;var h=new String("abc");if(h[5]="de",Object.getOwnPropertyNames(h)[0]==="5")return!1;for(var _={},y=0;y<10;y++)_["_"+String.fromCharCode(y)]=y;if(Object.getOwnPropertyNames(_).map(function(l){return _[l]}).join("")!=="0123456789")return!1;var v={};return"abcdefghijklmnopqrst".split("").forEach(function(l){v[l]=l}),Object.keys(Object.assign({},v)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}()?Object.assign:function(h,_){for(var y,v,l=d(h),o=1;o<arguments.length;o++){for(var r in y=Object(arguments[o]))n.call(y,r)&&(l[r]=y[r]);if(i){v=i(y);for(var t=0;t<v.length;t++)b.call(y,v[t])&&(l[v[t]]=y[v[t]])}}return l}},function(p,u,s){p.exports={}},function(p,u,s){Object.defineProperty(u,"__esModule",{value:!0});var i=function(){function l(o,r){for(var t=0;t<r.length;t++){var c=r[t];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(o,c.key,c)}}return function(o,r,t){return r&&l(o.prototype,r),t&&l(o,t),o}}(),n=h(s(0)),b=s(2),d=h(b);function h(l){return l&&l.__esModule?l:{default:l}}var _={padding:0,margin:"0 2px",textAlign:"center",border:"1px solid",background:"transparent",width:"50px",height:"50px"},y={outline:"none",boxShadow:"none"},v=function(l){function o(r){(function(c,P){if(!(c instanceof P))throw new TypeError("Cannot call a class as a function")})(this,o);var t=function(c,P){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!P||typeof P!="object"&&typeof P!="function"?c:P}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,r));return t.state={value:t.validate(r.initialValue),showSecret:t.props.secret,focus:!1},t.onChange=t.onChange.bind(t),t.onKeyDown=t.onKeyDown.bind(t),t.onFocus=t.onFocus.bind(t),t.onBlur=t.onBlur.bind(t),t.onPaste=t.onPaste.bind(t),t.secretTimeout=null,t.inputTimeout=null,t}return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(r,t):r.__proto__=t)}(o,l),i(o,[{key:"componentWillUnmount",value:function(){clearTimeout(this.secretTimeout),clearTimeout(this.inputTimeout)}},{key:"onKeyDown",value:function(r){r.keyCode!==8||this.state.value&&this.state.value.length||this.props.onBackspace()}},{key:"clear",value:function(){this.setState({value:""})}},{key:"setSecretDelayed",value:function(r){var t=this;this.setState({showSecret:!1}),this.secretTimeout=setTimeout(function(){t.setState({showSecret:!!r})},this.props.secretDelay)}},{key:"update",value:function(r){var t=this,c=arguments.length>1&&arguments[1]!==void 0&&arguments[1],P=this.validate(r);(this.state.value!==P||c)&&P.length<2&&(this.setState({value:P}),this.inputTimeout=setTimeout(function(){t.props.onChange(P,c)},0))}},{key:"onChange",value:function(r){this.update(r.target.value)}},{key:"focus",value:function(){this.input.focus()}},{key:"onFocus",value:function(r){this.props.autoSelect&&r.target.select(),this.setState({focus:!0})}},{key:"onBlur",value:function(){this.setState({focus:!1})}},{key:"onPaste",value:function(r){if(this.props.onPaste){var t=r.clipboardData.getData("text");this.props.onPaste(t)}}},{key:"validate",value:function(r){if(this.props.secretDelay&&this.setSecretDelayed(r),this.props.validate)return this.props.validate(r);if(this.props.type==="numeric"){var t=r.charCodeAt(0);return t>="0".charCodeAt(0)&&t<="9".charCodeAt(0)?r:""}return this.props.regexCriteria.test(r)?r.toUpperCase():""}},{key:"render",value:function(){var r=this,t=this.state,c=t.focus,P=t.value,k=this.props,I=k.type,N=k.inputMode,T=k.inputStyle,D=k.inputFocusStyle,U=I==="numeric"?"tel":I||"text";return d.default.createElement("input",{disabled:this.props.disabled?"disabled":void 0,className:"pincode-input-text",onChange:this.onChange,onKeyDown:this.onKeyDown,placeholder:this.props.placeholder?this.props.placeholder:P,"aria-label":this.props.ariaLabel?this.props.ariaLabel:P,maxLength:"1",autoComplete:"off",type:this.state.showSecret?"password":U,inputMode:N||"text",pattern:this.props.type==="numeric"?"[0-9]*":"^[a-zA-Z0-9]+$",ref:function(L){return r.input=L},onFocus:this.onFocus,onBlur:this.onBlur,onPaste:this.onPaste,style:Object.assign({},_,T,c?Object.assign({},y,D):{}),value:P})}}]),o}(b.Component);v.propTypes={initialValue:n.default.string,onChange:n.default.func.isRequired,onBackspace:n.default.func.isRequired,onPaste:n.default.func,secret:n.default.bool,secretDelay:n.default.number,disabled:n.default.bool,type:n.default.string,inputMode:n.default.string,validate:n.default.func,inputStyle:n.default.object.isRequired,inputFocusStyle:n.default.object.isRequired,autoSelect:n.default.bool,regexCriteria:n.default.any,ariaLabel:n.default.string,placeholder:n.default.string},v.defaultProps={secret:!1,type:"numeric",inputMode:void 0,disabled:!1,validate:void 0,autoSelect:!1,onPaste:void 0,regexCriteria:/^[a-zA-Z0-9]+$/,ariaLabel:"",placeholder:""},u.default=v}])})})(he);var Oe=he.exports;const F=Se(Oe),re={padding:void 0,margin:void 0,textAlign:void 0,border:void 0,background:void 0,width:void 0,height:void 0},oe={outline:void 0,boxShadow:void 0},ke=()=>{const j=se(),[f,p]=A.useState(""),[u,s]=A.useState(""),{loading:i,status:n}=H(y=>y.pin.data);let b=!1,d=!1;u.length===6&&u!==f&&(b=!0),u.length===6&&u===f&&(d=!0);const h=(y,v,l,o)=>{pe.push(g.jsx(de,{title:l||"Error",type:v||"warning",duration:o||3e3,children:y}),{placement:"top-center"})};A.useEffect(()=>{n==="error"&&(h("Oops! Something went wrong, please try again.","danger","Error",5e3),j(M("idle"))),n==="success"&&(j(ue()),h("Transaction PIN created successfully.","success","Success",5e3),j(M("idle")))},[j,n]);const _=()=>{j(V({pin:f,pin_confirmation:u}))};return g.jsx("div",{children:g.jsxs("form",{onSubmit:async y=>{y.preventDefault(),_()},children:[g.jsxs("div",{className:"mb-6",children:[g.jsx("p",{className:"text-base mb-2",children:"Enter PIN"}),g.jsx(F,{length:6,initialValue:"",secretDelay:200,onChange:y=>{p(y)},type:"numeric",inputMode:"number",inputStyle:re,inputFocusStyle:oe,autoSelect:!0,regexCriteria:/^[ A-Za-z0-9_@./#&+-]*$/})]}),g.jsxs("div",{className:"mb-6",children:[g.jsx("p",{className:"text-base mb-2",children:"Enter PIN Again"}),g.jsx(F,{length:6,initialValue:"",secretDelay:200,disabled:f.length<6,onChange:y=>{s(y)},type:"numeric",inputMode:"number",inputStyle:re,inputFocusStyle:oe,autoSelect:!0,regexCriteria:/^[ A-Za-z0-9_@./#&+-]*$/}),b&&g.jsx(le.p,{className:"text-red-500 mt-2",layoutId:1,initial:{opacity:0,visibility:"hidden"},animate:{opacity:1,visibility:"visible"},transition:{duration:.4,type:"tween"},exit:{opacity:0,visibility:"hidden"},children:"Your PIN do not match!"},1)]}),g.jsx(ce,{block:!0,type:"submit",variant:"solid",className:"!bg-gray-900 hover:!bg-black mt-2",loading:i,disabled:!f||!u||f.length<6||u.length<6||b||!d,children:"Create"})]})})},W={padding:void 0,margin:void 0,textAlign:void 0,border:void 0,background:void 0,width:void 0,height:void 0},G={outline:void 0,boxShadow:void 0},Ee=()=>{const j=se(),[f,p]=A.useState(""),[u,s]=A.useState(""),[i,n]=A.useState(""),{loading:b,status:d}=H(t=>t.pin.data);let h=!1,_=!1,y,v,l;i.length===6&&i!==u&&(h=!0),i.length===6&&i===u&&(_=!0);const o=(t,c,P,k)=>{pe.push(g.jsx(de,{title:P||"Error",type:c||"warning",duration:k||3e3,children:t}),{placement:"top-center"})};A.useEffect(()=>{const t=()=>{l.clear(),v.clear(),y.clear(),p(""),s(""),n("")};d==="error"&&(o("Oops! Something went wrong, please try again.","danger","Error",5e3),t(),j(M("idle"))),d==="pin error"&&(o("The PIN entered does not match your transaction PIN, please try again.","danger","Error",5e3),t(),j(M("idle"))),d==="duplicate error"&&(o("The PIN entered is the same as your transaction PIN, please enter a new PIN.","danger","Error",5e3),t(),j(M("idle"))),d==="success"&&(j(ue()),o("Transaction PIN updated successfully.","success","Success",5e3),t(),j(M("idle")))},[l,j,v,y,d]);const r=()=>{j(q({old_pin:f,pin:u,pin_confirmation:i}))};return g.jsx("div",{children:g.jsxs("form",{onSubmit:async t=>{t.preventDefault(),r()},children:[g.jsxs("div",{className:"mb-6",children:[g.jsx("p",{className:"text-base mb-2",children:"Enter Old PIN"}),g.jsx(F,{length:6,initialValue:"",secretDelay:200,ref:t=>y=t,onChange:t=>{p(t)},type:"numeric",inputMode:"number",inputStyle:W,inputFocusStyle:G,autoSelect:!0,regexCriteria:/^[ A-Za-z0-9_@./#&+-]*$/})]}),g.jsxs("div",{className:"mb-6",children:[g.jsx("p",{className:"text-base mb-2",children:"Enter New PIN"}),g.jsx(F,{length:6,initialValue:"",secretDelay:200,ref:t=>v=t,disabled:f.length<6,onChange:t=>{s(t)},type:"numeric",inputMode:"number",inputStyle:W,inputFocusStyle:G,autoSelect:!0,regexCriteria:/^[ A-Za-z0-9_@./#&+-]*$/})]}),g.jsxs("div",{className:"mb-6",children:[g.jsx("p",{className:"text-base mb-2",children:"Enter New PIN Again"}),g.jsx(F,{length:6,initialValue:"",secretDelay:200,ref:t=>l=t,disabled:u.length<6,onChange:t=>{n(t)},type:"numeric",inputMode:"number",inputStyle:W,inputFocusStyle:G,autoSelect:!0,regexCriteria:/^[ A-Za-z0-9_@./#&+-]*$/}),h&&g.jsx(le.p,{className:"text-red-500 mt-2",layoutId:1,initial:{opacity:0,visibility:"hidden"},animate:{opacity:1,visibility:"visible"},transition:{duration:.4,type:"tween"},exit:{opacity:0,visibility:"hidden"},children:"Your PIN do not match!"},1)]}),g.jsx(ce,{block:!0,type:"submit",variant:"solid",className:"!bg-gray-900 hover:!bg-black mt-2",loading:b,disabled:!f||!u||!i||f.length<6||u.length<6||i.length<6||h||!_,children:"Update"})]})})};Pe("pin",Ce);const Te=()=>{const{hasPin:j}=H(f=>f.auth.user);return g.jsx("div",{className:"mt-2 p-4",children:j?g.jsxs("div",{children:[g.jsx("h4",{className:"text-lg font-bold text-gray-700 mb-4",children:"Update Your Transaction PIN"}),g.jsx("div",{className:"mt-4",children:g.jsx(Ee,{})})]}):g.jsxs("div",{children:[g.jsx("h4",{className:"text-lg font-bold text-gray-700 mb-4",children:"Create Your Transaction PIN"}),g.jsx("div",{className:"mt-4",children:g.jsx(ke,{})})]})})};export{Te as default};
