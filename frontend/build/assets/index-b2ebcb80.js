import{j as e,z as j,S as a,c as p,aR as E,r as h,b0 as k,t as f,b1 as Y,b2 as $,K as W,a as M,b3 as w,b4 as V,Y as A,as as I,b5 as K,b6 as U}from"./index-a992da42.js";const z=()=>e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs(j,{children:[e.jsxs("div",{className:"flex items-center gap-4 justify-between",children:[e.jsx(a,{height:"1rem",width:"21%"}),e.jsx(a,{height:"1rem",width:"21%"})]}),e.jsxs("div",{className:"mt-2 flex items-center gap-4 justify-between",children:[e.jsx(a,{height:"1rem",width:"18%"}),e.jsx(a,{height:"1rem",width:"28%"})]})]}),e.jsxs(j,{children:[e.jsxs("div",{className:"flex items-center gap-4 justify-between",children:[e.jsx(a,{height:"1rem",width:"21%"}),e.jsx(a,{height:"1rem",width:"21%"})]}),e.jsxs("div",{className:"mt-2 flex items-center gap-4 justify-between",children:[e.jsx(a,{height:"1rem",width:"18%"}),e.jsx(a,{height:"1rem",width:"28%"})]})]}),e.jsxs(j,{children:[e.jsxs("div",{className:"flex items-center gap-4 justify-between",children:[e.jsx(a,{height:"1rem",width:"21%"}),e.jsx(a,{height:"1rem",width:"21%"})]}),e.jsxs("div",{className:"mt-2 flex items-center gap-4 justify-between",children:[e.jsx(a,{height:"1rem",width:"18%"}),e.jsx(a,{height:"1rem",width:"28%"})]})]}),e.jsxs(j,{children:[e.jsxs("div",{className:"flex items-center gap-4 justify-between",children:[e.jsx(a,{height:"1rem",width:"21%"}),e.jsx(a,{height:"1rem",width:"21%"})]}),e.jsxs("div",{className:"mt-2 flex items-center gap-4 justify-between",children:[e.jsx(a,{height:"1rem",width:"18%"}),e.jsx(a,{height:"1rem",width:"28%"})]})]}),e.jsxs(j,{children:[e.jsxs("div",{className:"flex items-center gap-4 justify-between",children:[e.jsx(a,{height:"1rem",width:"21%"}),e.jsx(a,{height:"1rem",width:"21%"})]}),e.jsxs("div",{className:"mt-2 flex items-center gap-4 justify-between",children:[e.jsx(a,{height:"1rem",width:"18%"}),e.jsx(a,{height:"1rem",width:"28%"})]})]})]}),v=({transactions:t})=>{const{userType:i}=p(s=>s.auth.user);return e.jsx("div",{className:"flex flex-col",children:t==null?void 0:t.map(s=>{var n,r,d,c;return e.jsxs(j,{children:[e.jsxs("div",{className:"flex items-center gap-4 justify-between",children:[e.jsx("h4",{className:"text-lg font-bold text-gray-700",children:s.type}),s.type==="Wallet Topup"&&e.jsxs("p",{className:"text-lg font-semibold text-green-500",children:["+₦",(n=s.amount)==null?void 0:n.toLocaleString()]}),s.type.split(" ")[1]==="Airtime"&&e.jsxs("p",{className:"text-lg font-semibold text-green-500",children:["+₦",(r=s.amount)==null?void 0:r.toLocaleString()]}),i==="Provider"&&s.type==="Service Payment"&&e.jsxs("p",{className:"text-lg font-semibold text-green-500",children:["+₦",(d=s.amount)==null?void 0:d.toLocaleString()]}),i==="Client"&&s.type==="Service Payment"&&e.jsxs("p",{className:"text-lg font-semibold text-red-500",children:["-₦",(c=s.amount)==null?void 0:c.toLocaleString()]})]}),e.jsxs("div",{className:"mt-2 flex items-center gap-4 justify-between",children:[s.status==="Success"&&e.jsx("p",{className:"font-semibold text-green-500",children:"Completed"}),e.jsx("p",{className:"font-semibold",children:E(s.created_at).format("DD MMM YYYY hh:mm a")})]})]},s.id)})})},g=h.createContext({}),F=g.Provider;g.Consumer;function y(){return h.useContext(g)}const u=h.forwardRef((t,i)=>{const{className:s,defaultValue:n,onChange:r,value:d,variant:c="underline",...m}=t,[o,l]=k({prop:d,onChange:r,defaultProp:n}),b=f("tabs",s);return e.jsx(F,{value:{value:o,onValueChange:l,variant:c},children:e.jsx("div",{className:b,...m,ref:i})})});u.displayName="Tabs";const C=h.forwardRef((t,i)=>{const{className:s,children:n,...r}=t,{variant:d}=y(),c=f("tab-list",`tab-list-${d}`,s);return e.jsx("div",{ref:i,role:"tablist",className:c,...r,children:n})});C.displayName="TabList";const T=h.forwardRef((t,i)=>{const{value:s,disabled:n,className:r,icon:d,children:c,...m}=t,{value:o,onValueChange:l,variant:b}=y(),x=s===o,{themeColor:P,primaryColorLevel:D}=Y(),N=$(()=>{!x&&!n&&(l==null||l(s))}),L=`${P}-${D}`,R=f("tab-nav",`tab-nav-${b}`,x&&"tab-nav-active text-white",x&&b==="underline"&&`border-${L}`,x&&b==="pill"&&"bg-black",n&&"tab-nav-disabled",!n&&!x&&"hover:text-black hover:bg-gray-300",r);return e.jsxs("div",{ref:i,className:R,role:"tab","aria-selected":x,tabIndex:0,onClick:N,onKeyDown:N,...m,children:[d&&e.jsx("div",{className:"tab-nav-icon",children:d}),c]})});T.displayName="TabNav";const S=h.forwardRef((t,i)=>{const{value:s,children:n,className:r,...d}=t,c=y(),m=s===c.value,o=f("tab-content",m&&"tab-content-active",r);return e.jsx("div",{ref:i,role:"tabpanel",tabIndex:0,className:o,...d,children:m&&n})});S.displayName="TabContent";u.TabList=C;u.TabNav=T;u.TabContent=S;const G=()=>{const{verifying:t}=p(l=>l.payments.data),{userType:i}=p(l=>l.auth.user),{transactions:s}=p(l=>l.payments.data),n=s==null?void 0:s.filter(l=>l.type==="Wallet Topup"),r=s==null?void 0:s.filter(l=>l.type==="Wallet Topup"||l.type==="Service Payment"),d=s==null?void 0:s.filter(l=>l.type==="Service Payment"),{TabNav:c,TabList:m,TabContent:o}=u;return e.jsxs("div",{className:"mt-2 mb-2",children:[e.jsx("h4",{className:"text-lg font-bold text-gray-700 mb-4",children:"Transactions"}),t?e.jsx(z,{}):e.jsx(e.Fragment,{children:e.jsxs(u,{defaultValue:"all",variant:"pill",children:[e.jsxs(m,{children:[e.jsx(c,{value:"all",children:"All"}),e.jsx(c,{value:"topups",children:"Topups"}),e.jsx(c,{value:"expenses",children:"Expenses"}),i==="Provider"&&e.jsx(c,{value:"withdrawals",children:"Withdrawals"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(o,{value:"all",children:e.jsx(v,{transactions:s})}),e.jsxs(o,{value:"topups",children:[i==="Client"&&e.jsx(v,{transactions:n}),i==="Provider"&&e.jsx(v,{transactions:r})]}),e.jsx(o,{value:"expenses",children:i==="Client"&&e.jsx(v,{transactions:d})})]})]})})]})};W("payments",U);const _=()=>{const t=M(),{updateStatus:i,receivedDeposit:s}=p(r=>r.payments.data),{depositDialog:n}=p(r=>r.payments.state);return h.useEffect(()=>{t(w())},[]),h.useEffect(()=>{(i==="success"||i==="error")&&t(V("idle"))},[t,i]),h.useEffect(()=>{s&&(t(w()),t(A()),n&&t(I(!1))),t(K(!1))},[n,t,s]),e.jsx("div",{className:"mt-2 p-4",children:e.jsx(G,{})})};export{_ as default};
