import{j as f,r as l}from"./index-cd793fee.js";const Y=r=>{},Gr=typeof window>"u"?l.useEffect:l.useLayoutEffect,Pr=r=>typeof r=="number"&&r>0,wr=r=>Pr(r)?r:0,hr=r=>Math.round(100*r)/100,mr=r=>Math.round(2*r)/2,kr=r=>r===0?0:-1*hr(r),ie={},le="rr--group",ce="rr--box",ue="rr--svg",fe="rr--reset",Fr="rr--focus-reset",de="rr--svg-stop-1",he="rr--svg-stop-2",jr="rr--on",Dr="rr--off",G={ZOOM:"rr--fx-zoom",POSITION:"rr--fx-position",OPACITY:"rr--fx-opacity",COLORS:"rr--fx-colors"},z={SMALL:"rr--rx-sm",MEDIUM:"rr--rx-md",LARGE:"rr--rx-lg",FULL:"rr--rx-full"},lr={SMALL:"rr--gap-sm",MEDIUM:"rr--gap-md",LARGE:"rr--gap-lg"},cr={SMALL:"rr--space-sm",MEDIUM:"rr--space-md",LARGE:"rr--space-lg"},me="rr--pointer",Le="rr--disabled",Oe="rr--dir-y",pe="rr--dir-x",ge="rr--has-stroke",Se="rr--has-border",be="rr--hf-box-on",ye="rr--hf-box-int",Re="rr--hf-box-off",xe="rr--hf-svg-on",Ee="rr--hf-svg-off",_={FILL:"--rr--fill-on-color",BOX:"--rr--box-on-color",BORDER:"--rr--border-on-color",STROKE:"--rr--stroke-on-color"},q={FILL:"--rr--fill-off-color",BOX:"--rr--box-off-color",BORDER:"--rr--border-off-color",STROKE:"--rr--stroke-off-color"},Ae="--rr--border-width",Xr="horizontal",Zr="vertical",ur="svg",Tr="box",m={NONE:"none",SMALL:"small",MEDIUM:"medium",LARGE:"large",FULL:"full"},k={NONE:"none",ZOOM:"zoom",POSITION:"position",OPACITY:"opacity",COLORS:"colors"},M={FILL:"activeFillColor",BOX:"activeBoxColor",BORDER:"activeBoxBorderColor",STROKE:"activeStrokeColor"},J={FILL:"inactiveFillColor",BOX:"inactiveBoxColor",BORDER:"inactiveBoxBorderColor",STROKE:"inactiveStrokeColor"};function Me({itemShapes:r,testId:o,itemStrokeWidth:n=0,orientation:c=Xr,hasHF:a=!1}){const h=n>0?-n/2:0,v=n>0?`${h} ${h}`:"0 0",L=l.useRef(null),O=l.useId(),[p,F]=l.useState(null);return Gr(()=>{if(L.current){const{width:b,height:$,x:w,y:I}=L.current.getBBox();if(((...u)=>u.every(B=>typeof B=="number"))(b,$,w,I)){const u=`${v} ${hr(b+n)} ${hr($+n)}`,B=`${kr(w)} ${kr(I)}`;F({viewBox:u,translateData:B})}}},[r,n,a]),f.jsxs("svg",{"aria-hidden":"true",className:ue,xmlns:"http://www.w3.org/2000/svg",viewBox:p?p.viewBox:"0 0 0 0",preserveAspectRatio:"xMidYMid meet",...n>0?{strokeWidth:n}:{},...o,children:[a&&f.jsx("defs",{children:f.jsxs("linearGradient",{id:O,...c===Zr?{gradientTransform:"rotate(90)"}:{},children:[f.jsx("stop",{className:de,offset:"50%"}),f.jsx("stop",{className:he,offset:"50%"})]})}),f.jsx("g",{ref:L,shapeRendering:"geometricPrecision",...function(){if(p){const b=`translate(${p==null?void 0:p.translateData})`;return b==="translate(0 0)"?{}:{transform:b}}return{transform:void 0}}(),...a?{fill:`url('#${O}')`}:{},children:r})]})}function Kr(r,o,n){switch(o){case M.FILL:return r[_.FILL]=n,!0;case M.BOX:return r[_.BOX]=n,!0;case M.BORDER:return r[_.BORDER]=n,!0;case M.STROKE:return r[_.STROKE]=n,!0}return!1}function ve(r,o,n){if(!Kr(r,o,n))switch(o){case J.FILL:r[q.FILL]=n;break;case J.BOX:r[q.BOX]=n;break;case J.BORDER:r[q.BORDER]=n;break;case J.STROKE:r[q.STROKE]=n}}function Ie(r,o,n){const c={};let a;for(const[h,v]of Object.entries(r))Kr(c,h,v[o]);return n?(a=Array(o).fill({}),a.push(c)):a=Array(o+1).fill(c),a}const fr=r=>`${r} ${G.COLORS}`;function Be({className:r,radius:o,readOnly:n,isDisabled:c,isDynamic:a,transition:h,orientation:v,absoluteBoxBorderWidth:L,absoluteStrokeWidth:O,spaceBetween:p,spaceInside:F}){const b=a?me:"",$=function(g){switch(g){case m.SMALL:return lr.SMALL;case m.MEDIUM:return lr.MEDIUM;case m.LARGE:return lr.LARGE;default:return""}}(p),w=function(g){switch(g){case m.SMALL:return cr.SMALL;case m.MEDIUM:return cr.MEDIUM;case m.LARGE:return cr.LARGE;default:return""}}(F),I=!n&&c?Le:"",u=a&&h!==k.NONE?function(g){switch(g){case k.ZOOM:return fr(G.ZOOM);case k.POSITION:return fr(G.POSITION);case k.OPACITY:return fr(G.OPACITY);case k.COLORS:return G.COLORS;default:return""}}(h):"",B=v===Zr?Oe:pe,j=function(g){switch(g){case m.SMALL:return z.SMALL;case m.MEDIUM:return z.MEDIUM;case m.LARGE:return z.LARGE;case m.FULL:return z.FULL;default:return""}}(o);return`${le} ${B} ${O>0?ge:""} ${L>0?Se:""}
${u} ${j} ${b} ${I} ${$}
${w} ${r}`.replace(/  +/g," ").trimEnd()}function Ce(r,o,n){return Array.from({length:o},(c,a)=>r?a===n?jr:Dr:a<=n?jr:Dr)}function Ne(r,o,n){const c=Math.floor(mr(r));return Array.from({length:o},(a,h)=>n==="box"?h>c?Re:h===c?ye:be:h>c?Ee:xe)}function Ur(r,o){const n={};Pr(o)&&(n[Ae]=`${o}px`);const c=Object.entries(r);if(c.length>0)for(const[a,h]of c)ve(n,a,h);return n}const $e=[M.FILL,M.BOX,M.STROKE,M.BORDER];function dr(r,o,n=!1){return Array.from({length:r},(c,a)=>n&&o<0?a===r-1?0:-1:o<=0?a===0?0:-1:o>0?a===o?0:-1:void 0)}const we="@smastrom/react-rating",ke=r=>`[${we}] - Nothing's returned from rendering. Reason: ${r}.`;function W(r,o){return r.shouldRender=!1,r.reason=ke(o),r}const Wr="itemShapes is not a valid JSX element",Fe=f.jsx("polygon",{points:"25 9.02 16.4 7.75 12.46 0 8.59 7.79 0 9.14 6.21 15.23 4.85 23.81 12.55 19.79 20.3 23.74 18.85 15.17 25 9.02"});f.jsx("path",{d:"M12.5,18.16l-7.73,5.61,2.95-9.08L0,9.07H9.55S12.5,0,12.5,0l2.95,9.07h9.55l-7.73,5.62,2.95,9.08-7.73-5.61Z"});f.jsx("path",{d:"M112.46,57.88c-.23-.72-.88-1.22-1.63-1.27l-6.63-.46-2.45-6.19c-.27-.7-.95-1.16-1.7-1.16h0c-.75,0-1.42,.46-1.7,1.16l-2.5,6.23-6.58,.42c-.75,.05-1.4,.55-1.63,1.27-.24,.73,0,1.53,.58,2.02l5.07,4.28-1.51,5.92c-.21,.82,.1,1.69,.78,2.19,.66,.48,1.55,.5,2.24,.07l5.23-3.31h.02l5.63,3.56c.29,.19,.63,.29,.97,.29,1.02,0,1.83-.84,1.83-1.86,0-.16-.02-.31-.06-.47l-1.6-6.48,5.04-4.2c.59-.49,.82-1.29,.58-2.02Z"});f.jsx("path",{d:"M22.72,8.24h-6.68L13.97,1.88c-.81-2.51-2.13-2.51-2.95,0l-2.07,6.36H2.28c-2.63,0-3.04,1.25-.91,2.8l5.41,3.93-2.06,6.36c-.81,2.51,.25,3.28,2.39,1.73l5.41-3.93,5.41,3.93c2.13,1.55,3.2,.77,2.39-1.73l-2.07-6.36,5.41-3.93c2.13-1.55,1.72-2.8-.91-2.8Z"});f.jsx("path",{d:"M11.58,.77c.51-1.02,1.33-1.02,1.84,0l2.34,4.73c.5,1.02,1.84,2,2.98,2.16l5.22,.76c1.13,.17,1.39,.95,.57,1.75l-3.78,3.68c-.82,.8-1.33,2.37-1.14,3.5l.89,5.2c.19,1.13-.48,1.61-1.49,1.08l-4.67-2.45c-1.01-.53-2.67-.53-3.68,0l-4.67,2.46c-1.01,.53-1.68,.05-1.49-1.08l.89-5.2c.19-1.13-.32-2.7-1.14-3.5L.48,10.17c-.82-.8-.56-1.58,.57-1.75l5.22-.76c1.13-.16,2.47-1.14,2.98-2.16L11.58,.77h0Z"});f.jsx("path",{d:"M19.29,1.61c-2.15-2.15-5.63-2.15-7.78,0,0,0,0,0,0,0l-1.06,1.06-1.06-1.06C7.24-.54,3.76-.54,1.61,1.61-.54,3.76-.54,7.24,1.61,9.39l1.06,1.06,7.78,7.78,7.78-7.78,1.06-1.06c2.15-2.15,2.15-5.63,0-7.78,0,0,0,0,0,0Z"});const je={itemShapes:Fe,itemStrokeWidth:2,activeFillColor:"#ffb23f",inactiveFillColor:"#fff7ed",activeStrokeColor:"#e17b21",inactiveStrokeColor:"#eda76a"},De=l.forwardRef(({value:r,items:o=5,readOnly:n=!1,onChange:c=Y,onHoverChange:a=Y,onFocus:h=Y,onBlur:v=Y,isDisabled:L=!1,highlightOnlySelected:O=!1,orientation:p=Xr,spaceBetween:F=m.NONE,spaceInside:b=m.SMALL,radius:$=m.NONE,transition:w=k.COLORS,itemStyles:I=je,isRequired:u=!1,halfFillMode:B=ur,visibleLabelId:j,visibleItemLabelIds:g,invisibleItemLabels:Lr,invisibleLabel:Or=n?r>0?`Rated ${r} on ${o}`:"Not rated":"Rating Selection",resetLabel:Vr="Reset rating",id:Hr,className:pr,style:Yr},gr)=>{const y=Array.from({length:o},(e,t)=>t+1),Sr=n&&!Number.isInteger(r),br=Sr&&!O,R=Sr&&O?Math.round(r):r,E=!n&&!L,P=R>=.25,zr=typeof pr=="string"?pr:"",Q=B===Tr?Tr:ur,rr=br&&!(e=>Number.isInteger(mr(e)))(R),_r=!u&&!n,X=u?o:o+1,x=br?function(e,t){const s=mr(t);return Number.isInteger(s)?e.indexOf(s):Math.floor(s)}(y,R):y.indexOf(R),{staticColors:er,arrayColors:tr,itemShapes:Z,absoluteStrokeWidth:yr,absoluteBoxBorderWidth:K}=l.useMemo(()=>{const{itemShapes:e,itemStrokeWidth:t,boxBorderWidth:s,...i}=I,d=function(S){const C={...S},V={},H=Object.entries(C);if(H.length>0)for(const[A,N]of H)if(Array.isArray(N)||typeof N=="string"){if(Array.isArray(N))for(const se of $e)if(se===A){const $r=N.filter(ae=>typeof ae=="string");$r.length>0&&(V[A]=$r,delete C[A])}else delete C[A]}else delete C[A];return{arrayColors:V,staticColors:C}}(i);return{itemShapes:e,absoluteStrokeWidth:wr(t),absoluteBoxBorderWidth:wr(s),...d}},[I]),Rr=Object.keys(tr).length>0,D=l.useCallback((e,t)=>({dynamicClassNames:rr?Ne(R,o,Q):Ce(O,o,e),dynamicCssVars:t&&Rr?Ie(tr,e,O):[]}),[tr,Rr,O,Q,rr,o,R]),nr=l.useCallback(()=>Ar(dr(X,x,!u)),[x,X,u]),xr=l.useRef(!0),Er=l.useRef(!0),or=l.useRef(null),T=l.useRef([]),sr=l.useRef(!1),[U,ar]=l.useState({staticCssVars:Ur(er,K),...D(x,P)}),[qr,Ar]=l.useState(()=>E?dr(X,x,!u):[]);Gr(()=>{E&&T.current&&(sr.current=function(e){return e?getComputedStyle(e).getPropertyValue("direction")==="rtl":!1}(T.current[0]))},[E]),l.useEffect(()=>{if(!xr.current)return ar({staticCssVars:Ur(er,K),...D(x,P)});xr.current=!1},[er,D,K,x,P]),l.useEffect(()=>{if(!Er.current&&E)return nr();Er.current=!1},[E,nr]);const{shouldRender:Jr,reason:Qr}=function({items:e,itemShapes:t}){const s={shouldRender:!0,reason:""};if(typeof e!="number"||e<1||e>10)return W(s,"items is invalid");if(!t)return W(s,"itemStyles needs at least the property itemShapes set");if(!Array.isArray(t)&&!l.isValidElement(t))return W(s,Wr);if(Array.isArray(t)){if(t.length!==e)return W(s,"itemShapes length mismatch");if(!t.every(i=>l.isValidElement(i)))return W(s,Wr)}return s}({items:o,itemShapes:Z});if(!Jr)return console.error(Qr),null;function ir(e,t,s=()=>{}){T.current.some(i=>i===e.relatedTarget)?s():t()}function Mr(){a(0),nr()}function re(e){ir(e,()=>{Mr()}),ar({...U,...D(x,P)})}function vr(e){ir(e,()=>{Mr(),v()})}function Ir(e,t){const s=!u&&t===y.length?0:t+1;ir(e,()=>{h(),a(s)},()=>{a(s)})}function Br(e){Ar(dr(X,e,!u)),T.current[e].focus()}const ee=Be({className:zr,radius:$,readOnly:n,isDisabled:L,isDynamic:E,transition:w,orientation:p,absoluteBoxBorderWidth:K,absoluteStrokeWidth:yr,spaceBetween:F,spaceInside:b});function Cr(e){return{ref:t=>T.current[e]=t}}function Nr(e){return{tabIndex:qr[e],onKeyDown:t=>function(s,i){let d=0;const S=u?y.length-1:y.length,C=i-1,V=i+1,H=!u&&i===y.length,A=i===0?S:C,N=S===i?0:V;switch(s.code){case"Shift":case"Tab":return!0;case"ArrowDown":case"ArrowRight":return d=sr.current?A:N,Br(d);case"ArrowUp":case"ArrowLeft":return d=sr.current?N:A,Br(d);case"Enter":case"Space":return s.preventDefault(),c(H?0:i+1)}s.preventDefault(),s.stopPropagation()}(t,e)}}function te(e){return{onClick:t=>function(s,i){s.stopPropagation(),c(u||x!==i?i+1:0)}(t,e),onMouseEnter:()=>function(t){a(t+1),ar({...U,...D(t,!0)})}(e),onMouseLeave:re}}function ne(e){if(n)return{};const t={};if(Array.isArray(g))t["aria-labelledby"]=g[e];else{const s=Array.isArray(Lr)?Lr:y.map((i,d)=>`Rate ${d+1}`);t["aria-label"]=s[e]}return L&&(t["aria-disabled"]="true"),{role:"radio","aria-checked":e+1===R,...t}}function oe(e){const t={itemShapes:Array.isArray(Z)?Z[e]:Z,itemStrokeWidth:yr,orientation:p,hasHF:!1,testId:{}};return rr&&Q===ur&&(t.hasHF=e===x),t}return f.jsx("div",{id:Hr,className:ee,style:{...Yr,...U.staticCssVars},ref:function(e){E&&!u&&(or.current=e),gr&&(gr.current=e)},...function(){if(!n){const e=u&&!L,t={role:"radiogroup","aria-required":e};return e&&(t["aria-invalid"]=R<=0),typeof j=="string"&&j.length>0?t["aria-labelledby"]=j:t["aria-label"]=Or,t}return{role:"img","aria-label":Or}}(),...ie,children:y.map((e,t)=>{return f.jsxs(l.Fragment,{children:[f.jsx("div",{className:`${ce} ${U.dynamicClassNames[t]}`,style:U.dynamicCssVars[t],...ne(t),...(i=t,E?{...Cr(i),...Nr(i),...te(i),onFocus:d=>Ir(d,i),onBlur:d=>vr(d)}:{}),children:f.jsx(Me,{...oe(t)})}),_r&&t===y.length-1&&f.jsx("div",{...(s=t+1,{className:fe,role:"radio","aria-label":Vr,"aria-checked":R===0,onClick:()=>c(0),onFocus:d=>{var S;Ir(d,s),(S=or.current)==null||S.classList.add(Fr)},onBlur:d=>{var S;vr(d),(S=or.current)==null||S.classList.remove(Fr)},...Nr(s),...Cr(s),...L?{"aria-disabled":"true"}:{}})})]},e);var s,i})})});De.displayName="Rating";export{De as A,Fe as p};
