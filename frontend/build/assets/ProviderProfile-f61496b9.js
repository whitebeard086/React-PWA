import{j as e,v as b,S as d,r as v,a as B,c as F,J as V,ag as $,n as g,aa as N,z as O,y as L,ai as T,K as M,E as z,aj as D}from"./index-43834327.js";import{a as H,g as G,r as J}from"./index-3c488640.js";import{f as x}from"./formatTime-7871a97f.js";import{A as K,p as Q}from"./index-af5669ac.js";import{_ as q}from"./millify-6ed8a946.js";const U=()=>e.jsxs("div",{children:[e.jsxs("div",{className:"relative",children:[e.jsx(b,{bordered:!0,bodyClass:"p-0",children:e.jsx(d,{height:"14rem"})}),e.jsx("div",{className:"absolute w-full -bottom-10",children:e.jsxs(b,{bordered:!0,className:"bg-black w-[80%] mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(d,{height:"25px",width:"30%"}),e.jsx(d,{height:"20px",width:"20%"})]}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsx(d,{height:"15px",width:"30%"}),e.jsx(d,{height:"15px",width:"20%"})]})]})})]}),e.jsx(b,{className:"mt-14",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx(b,{bodyClass:"p-3",className:"bg-blue-500 w-[40%]",children:e.jsx(d,{height:"18px",width:"100%"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-base mb-2",children:"About"}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx(d,{height:"12px",width:"97%"}),e.jsx(d,{height:"12px",width:"100%"}),e.jsx(d,{height:"12px",width:"100%"}),e.jsx(d,{height:"12px",width:"75%"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-base mb-2",children:"Working Hours"}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx(d,{height:"12px",width:"100%"}),e.jsx(d,{height:"12px",width:"100%"}),e.jsx(d,{height:"12px",width:"100%"}),e.jsx(d,{height:"12px",width:"100%"})]})]})]})}),e.jsx(b,{className:"bg-primary-500 mt-4"})]}),X=s=>{const n=s==null?void 0:s.bookings;return{averageRating:(a=>(a==null?void 0:a.length)===0?0:(a==null?void 0:a.reduce((t,i)=>t+(i==null?void 0:i.rating),0))/(a==null?void 0:a.length))(n)}};var E=new Map,S=new WeakMap,W=0,Y=void 0;function Z(s){return s?(S.has(s)||(W+=1,S.set(s,W.toString())),S.get(s)):"0"}function w(s){return Object.keys(s).sort().filter(n=>s[n]!==void 0).map(n=>`${n}_${n==="root"?Z(s.root):s[n]}`).toString()}function k(s){let n=w(s),c=E.get(n);if(!c){const r=new Map;let a;const l=new IntersectionObserver(t=>{t.forEach(i=>{var h;const u=i.isIntersecting&&a.some(m=>i.intersectionRatio>=m);s.trackVisibility&&typeof i.isVisible>"u"&&(i.isVisible=u),(h=r.get(i.target))==null||h.forEach(m=>{m(u,i)})})},s);a=l.thresholds||(Array.isArray(s.threshold)?s.threshold:[s.threshold||0]),c={id:n,observer:l,elements:r},E.set(n,c)}return c}function ee(s,n,c={},r=Y){if(typeof window.IntersectionObserver>"u"&&r!==void 0){const h=s.getBoundingClientRect();return n(r,{isIntersecting:r,target:s,intersectionRatio:typeof c.threshold=="number"?c.threshold:0,time:0,boundingClientRect:h,intersectionRect:h,rootBounds:h}),()=>{}}const{id:a,observer:l,elements:t}=k(c);let i=t.get(s)||[];return t.has(s)||t.set(s,i),i.push(n),l.observe(s),function(){i.splice(i.indexOf(n),1),i.length===0&&(t.delete(s),l.unobserve(s)),t.size===0&&(l.disconnect(),E.delete(a))}}function te({threshold:s,delay:n,trackVisibility:c,rootMargin:r,root:a,triggerOnce:l,skip:t,initialInView:i,fallbackInView:h,onChange:u}={}){var m;const[f,y]=v.useState(null),p=v.useRef(),[_,R]=v.useState({inView:!!i,entry:void 0});p.current=u,v.useEffect(()=>{if(t||!f)return;let A;return A=ee(f,(I,C)=>{R({inView:I,entry:C}),p.current&&p.current(I,C),C.isIntersecting&&l&&A&&(A(),A=void 0)},{root:a,rootMargin:r,threshold:s,trackVisibility:c,delay:n},h),()=>{A&&A()}},[Array.isArray(s)?s.toString():s,f,a,r,l,t,c,h,n]);const o=(m=_.entry)==null?void 0:m.target,P=v.useRef();!f&&o&&!l&&!t&&P.current!==o&&(P.current=o,R({inView:!!i,entry:void 0}));const j=[y,_.inView,_.entry];return j.ref=j[0],j.inView=j[1],j.entry=j[2],j}const se=()=>{var m,f,y,p,_,R;const{imagePath:s}=M,n=B(),{ref:c}=te({threshold:0}),r={itemShapes:Q,activeFillColor:"#ffb700",inactiveFillColor:"#36454F"},{provider:a,service:l,workdays:t}=F(o=>o.profile.data),{profile:i}=F(o=>o.auth.user),{signedIn:h}=F(o=>o.auth.session),{averageRating:u}=X(l);return v.useEffect(()=>{(i==null?void 0:i.id)!==(a==null?void 0:a.id)&&h&&n(H({provider_id:a==null?void 0:a.id}))},[]),e.jsxs("div",{children:[e.jsxs("div",{className:"relative",children:[e.jsx(b,{bordered:!0,bodyClass:"p-0 h-56",children:e.jsx(V,{src:`${s}/${l.banner}`,alt:l.title,className:"h-full w-full object-fit rounded-lg"})}),e.jsx("div",{className:"absolute w-full -bottom-10",children:e.jsxs(b,{bordered:!0,className:"bg-black w-[80%] mx-auto",children:[e.jsxs("div",{className:"flex items-center gap-4 justify-between",children:[e.jsx("h4",{className:"text-white font-bold text-lg",children:l==null?void 0:l.title}),e.jsxs("h5",{className:"text-primary-500 text-lg font-bold",children:["â‚¦",(m=l==null?void 0:l.starting_price)==null?void 0:m.toLocaleString(),"+"]})]}),e.jsxs("div",{className:"flex items-center gap-4 justify-between mt-2",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("p",{className:"font-bold",children:u===0?null:u}),e.jsx(K,{readOnly:!0,style:{maxWidth:80},itemStyles:r,value:u}),e.jsxs("p",{className:"text-gray-500",children:["(",(y=(f=l==null?void 0:l.bookings)==null?void 0:f.length)==null?void 0:y.toLocaleString(),")"]})]}),e.jsxs("p",{className:"text-gray-300 font-semibold",children:[q((p=l==null?void 0:l.bookings)==null?void 0:p.length)," ",((_=l==null?void 0:l.bookings)==null?void 0:_.length)===1?"Order":"Orders"]})]})]})})]}),e.jsx(b,{className:"mt-14",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("h4",{className:"py-1 px-3 font-semibold text-base rounded-md text-white bg-blue-500 w-fit",children:(R=l==null?void 0:l.category)==null?void 0:R.name}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-base mb-2",children:"About"}),e.jsx($,{value:l==null?void 0:l.description,readOnly:!0,theme:"bubble",className:"p-0 ",style:{marginRight:"",marginLeft:"",marginBottom:"-2rem"}})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-base mb-2",children:"Working Hours"}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"text-blue-500 text-base font-semibold",children:"Monday"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:g((t==null?void 0:t.monday_start)==="Not Available"&&"text-red-500","text-base font-semibold"),children:x(t==null?void 0:t.monday_start)}),(t==null?void 0:t.monday_start)!=="Not Available"&&e.jsxs(e.Fragment,{children:[e.jsx(N,{className:"text-lg text-gray-500"}),e.jsx("p",{className:"text-base  font-semibold",children:x(t==null?void 0:t.monday_end)})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"text-blue-500 text-base font-semibold",children:"Tuesday"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:g((t==null?void 0:t.tuesday_start)==="Not Available"&&"text-red-500","text-base font-semibold"),children:x(t==null?void 0:t.tuesday_start)}),(t==null?void 0:t.tuesday_start)!=="Not Available"&&e.jsxs(e.Fragment,{children:[e.jsx(N,{className:"text-lg text-gray-500"}),e.jsx("p",{className:"text-base  font-semibold",children:x(t==null?void 0:t.tuesday_end)})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"text-blue-500 text-base font-semibold",children:"Wednesday"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:g((t==null?void 0:t.wednesday_start)==="Not Available"&&"text-red-500","text-base font-semibold"),children:x(t==null?void 0:t.wednesday_start)}),(t==null?void 0:t.wednesday_start)!=="Not Available"&&e.jsxs(e.Fragment,{children:[e.jsx(N,{className:"text-lg text-gray-500"}),e.jsx("p",{className:"text-base  font-semibold",children:x(t==null?void 0:t.wednesday_end)})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"text-blue-500 text-base font-semibold",children:"Thursday"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:g((t==null?void 0:t.thursday_start)==="Not Available"&&"text-red-500","text-base font-semibold"),children:x(t==null?void 0:t.thursday_start)}),(t==null?void 0:t.thursday_start)!=="Not Available"&&e.jsxs(e.Fragment,{children:[e.jsx(N,{className:"text-lg text-gray-500"}),e.jsx("p",{className:"text-base  font-semibold",children:x(t==null?void 0:t.thursday_end)})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"text-blue-500 text-base font-semibold",children:"Friday"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:g((t==null?void 0:t.friday_start)==="Not Available"&&"text-red-500","text-base font-semibold"),children:x(t==null?void 0:t.friday_start)}),(t==null?void 0:t.friday_start)!=="Not Available"&&e.jsxs(e.Fragment,{children:[e.jsx(N,{className:"text-lg text-gray-500"}),e.jsx("p",{className:"text-base  font-semibold",children:x(t==null?void 0:t.friday_end)})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"text-blue-500 text-base font-semibold",children:"Saturday"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:g((t==null?void 0:t.saturday_start)==="Not Available"&&"text-red-500","text-base font-semibold"),children:x(t==null?void 0:t.saturday_start)}),(t==null?void 0:t.saturday_start)!=="Not Available"&&e.jsxs(e.Fragment,{children:[e.jsx(N,{className:"text-lg text-gray-500"}),e.jsx("p",{className:"text-base  font-semibold",children:x(t==null?void 0:t.saturday_end)})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",ref:c,children:[e.jsx("h4",{className:"text-blue-500 text-base font-semibold",children:"Sunday"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:g((t==null?void 0:t.sunday_start)==="Not Available"&&"text-red-500","text-base font-semibold"),children:x(t==null?void 0:t.sunday_start)}),(t==null?void 0:t.sunday_start)!=="Not Available"&&e.jsxs(e.Fragment,{children:[e.jsx(N,{className:"text-lg text-gray-500"}),e.jsx("p",{className:"text-base  font-semibold",children:x(t==null?void 0:t.sunday_end)})]})]})]})]})]})]})}),h?(a==null?void 0:a.id)!==(i==null?void 0:i.id)&&e.jsx("div",{className:"mt-4",children:e.jsx(O,{to:`/chat/${a==null?void 0:a.slug}`,state:{provider_id:a==null?void 0:a.id},children:e.jsx(L,{variant:"solid",block:!0,icon:e.jsx(T,{}),children:"Chat Now"})})}):e.jsx("div",{className:"mt-4",children:e.jsx(O,{to:"/login",state:{provider_id:a==null?void 0:a.id},children:e.jsx(L,{variant:"solid",block:!0,icon:e.jsx(T,{}),children:"Login to Chat"})})})]})};z("profile",J);const re=()=>{const s=B(),{providerSlug:n}=D(),{gettingProvider:c}=F(r=>r.profile.data);return v.useEffect(()=>{s(G({slug:n}))},[s,n]),e.jsx("div",{className:"mt-2 p-4",children:c?e.jsx(U,{}):e.jsx(se,{})})};export{re as default};
