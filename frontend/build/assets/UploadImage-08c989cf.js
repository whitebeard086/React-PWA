import{a as x,r as i,c as f,b3 as j,W as d,b4 as U,j as s,F,o as S,p as b,q as C,t as L,ad as R,y as I,ae as y,$ as E,a0 as N}from"./index-402e8dd0.js";import{C as k}from"./CropImage-2cbf99d6.js";const $=()=>{const a=x(),[m,r]=i.useState(!1),[h,u]=i.useState(null),[n,g]=i.useState(null);console.log(n);const{uploadStatus:e}=f(t=>t.settings.data),c=i.useCallback(()=>{a(j({image:n})),a(d())},[a,n]),p=(t,l,o)=>{t.setFieldValue(l.name,URL.createObjectURL(o[0])),u(URL.createObjectURL(o[0])),r(!0)};return i.useEffect(()=>{n!==null&&c()},[n,c]),i.useEffect(()=>{e!=="idle"&&(()=>{E.push(s.jsx(N,{title:`${e==="success"?"Success":"Error"}`,type:`${e==="success"?"success":"danger"}`,duration:5e3,children:e==="success"?"Image uploaded successfully!":"Looks like something went wrong, please try again."}),{placement:"top-center"})})(),e==="success"&&a(d()),(e==="success"||e==="error")&&a(U("idle"))},[a,e]),s.jsx(F,{initialValues:{image:""},onSubmit:c,children:()=>s.jsxs(S,{className:"absolute top-[45%] right-[23%]",children:[s.jsx(b,{children:s.jsx(C,{children:s.jsx(L,{name:"banner",children:({field:t,form:l})=>s.jsx(R,{showList:!1,uploadLimit:1,onChange:o=>p(l,t,o),onFileRemove:o=>p(l,t,o),children:s.jsx(I,{type:"button",size:"xs",className:"",variant:"solid",icon:s.jsx(y,{}),children:"Upload"})})})})}),s.jsx(k,{photoURL:h,setOpenCrop:r,openCrop:m,aspect:1/1,setPhotoURL:u,setFile:g,onCropImage:c,maxSizeMB:.05})]})})};export{$ as U};
