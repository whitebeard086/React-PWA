import{b as x,r as i,d as f,b5 as j,Y as d,b6 as U,j as s,F,p as b,q as S,t as C,v as L,af as R,z as I,ag as E,a1 as N,a2 as k}from"./index-d4dc8e82.js";import{C as y}from"./CropImage-834e87ea.js";const w=()=>{const a=x(),[m,r]=i.useState(!1),[g,u]=i.useState(null),[n,h]=i.useState(null);console.log(n);const{uploadStatus:e}=f(t=>t.settings.data),c=i.useCallback(()=>{a(j({image:n})),a(d())},[a,n]),p=(t,l,o)=>{t.setFieldValue(l.name,URL.createObjectURL(o[0])),u(URL.createObjectURL(o[0])),r(!0)};return i.useEffect(()=>{n!==null&&c()},[n,c]),i.useEffect(()=>{e!=="idle"&&(()=>{N.push(s.jsx(k,{title:`${e==="success"?"Success":"Error"}`,type:`${e==="success"?"success":"danger"}`,duration:5e3,children:e==="success"?"Image uploaded successfully!":"Looks like something went wrong, please try again."}),{placement:"top-center"})})(),e==="success"&&a(d()),(e==="success"||e==="error")&&a(U("idle"))},[a,e]),s.jsx(F,{initialValues:{image:""},onSubmit:c,children:()=>s.jsxs(b,{className:"absolute top-[45%] right-[23%]",children:[s.jsx(S,{children:s.jsx(C,{children:s.jsx(L,{name:"banner",children:({field:t,form:l})=>s.jsx(R,{showList:!1,uploadLimit:1,onChange:o=>p(l,t,o),onFileRemove:o=>p(l,t,o),children:s.jsx(I,{type:"button",size:"xs",className:"",variant:"solid",icon:s.jsx(E,{}),children:"Upload"})})})})}),s.jsx(y,{photoURL:g,setOpenCrop:r,openCrop:m,aspect:1/1,setPhotoURL:u,setFile:h,onCropImage:c,maxSizeMB:.05})]})})};export{w as U};
