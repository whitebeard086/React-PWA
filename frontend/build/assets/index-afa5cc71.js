import{j as e,v as O,M as q,ao as z,S as N,bW as L,c as x,z as ue,bX as fe,bg as pe,K as I,a as A,r as h,bY as le,bs as K,bZ as V,bv as R,bw as F,b_ as me,Y as H,Z as U,b$ as ve,c0 as oe,c1 as X,c2 as D,c3 as Z,D as se,w as te,y as Y,c4 as je,c5 as de,c6 as Q,c7 as ge,c8 as G,c9 as k,ca as we,cb as M,cc as ee,cd as ye,E as Se,ce as Ne,cf as _e,cg as Ce,ch as be,ci as $e}from"./index-cd793fee.js";import{E as Ee}from"./EllipsisButton-69c2826d.js";import{s as W,i as ie,u as he}from"./sendPushNotification-8f257ddd.js";import{B as De}from"./index-1136da70.js";import{A as Re}from"./index-216b3f58.js";const Oe=()=>e.jsxs("div",{children:[e.jsx("h4",{children:"Active Bookings"}),e.jsxs("div",{className:"mt-4 mb-4 flex gap-4 overflow-auto pb-4",children:[e.jsxs(O,{className:"min-w-[10rem] w-40",bodyClass:"flex w-full flex-col justify-center items-center",children:[e.jsx(q,{size:"lg",shape:"circle",icon:e.jsx(z,{})}),e.jsxs("div",{className:"mt-2 flex flex-col gap-1 justify-center items-center w-full",children:[e.jsx(N,{width:"80%"}),e.jsx(N,{width:"100%"})]})]}),e.jsxs(O,{className:"min-w-[10rem] w-40",bodyClass:"flex w-full flex-col justify-center items-center",children:[e.jsx(q,{size:"lg",shape:"circle",icon:e.jsx(z,{})}),e.jsxs("div",{className:"mt-2 flex flex-col gap-1 justify-center items-center w-full",children:[e.jsx(N,{width:"80%"}),e.jsx(N,{width:"100%"})]})]}),e.jsx(O,{className:"min-w-[18rem] w-80",bodyClass:"flex w-full flex-col justify-center items-center",children:e.jsxs("div",{className:"w-full flex items-center gap-4",children:[e.jsxs("div",{className:"w-1/2 flex flex-col items-center",children:[e.jsx(q,{size:"lg",shape:"circle",icon:e.jsx(z,{})}),e.jsxs("div",{className:"mt-2 flex flex-col gap-1 justify-center items-center w-full",children:[e.jsx(N,{width:"80%"}),e.jsx(N,{width:"100%"})]})]}),e.jsx(N,{width:"50%",height:"30px"})]})})]}),e.jsx("h4",{children:"Enquiries"}),e.jsxs("div",{className:"mt-4",children:[e.jsx(O,{className:"rounded-none",children:e.jsxs("div",{className:"w-full flex items-center justify-between",children:[e.jsxs("div",{className:"w-full flex gap-4 items-center",children:[e.jsx("div",{children:e.jsx(q,{size:"lg",shape:"circle",icon:e.jsx(z,{})})}),e.jsxs("div",{className:"mt-2 flex flex-col gap-1 justify-center w-full",children:[e.jsx(N,{width:"40%"}),e.jsx(N,{width:"60%"})]})]}),e.jsx(L,{className:"text-xl"})]})}),e.jsx(O,{className:"rounded-none",children:e.jsxs("div",{className:"w-full flex items-center justify-between",children:[e.jsxs("div",{className:"w-full flex gap-4 items-center",children:[e.jsx("div",{children:e.jsx(q,{size:"lg",shape:"circle",icon:e.jsx(z,{})})}),e.jsxs("div",{className:"mt-2 flex flex-col gap-1 justify-center w-full",children:[e.jsx(N,{width:"40%"}),e.jsx(N,{width:"60%"})]})]}),e.jsx(L,{className:"text-xl"})]})}),e.jsx(O,{className:"rounded-none",children:e.jsxs("div",{className:"w-full flex items-center justify-between",children:[e.jsxs("div",{className:"w-full flex gap-4 items-center",children:[e.jsx("div",{children:e.jsx(q,{size:"lg",shape:"circle",icon:e.jsx(z,{})})}),e.jsxs("div",{className:"mt-2 flex flex-col gap-1 justify-center w-full",children:[e.jsx(N,{width:"40%"}),e.jsx(N,{width:"60%"})]})]}),e.jsx(L,{className:"text-xl"})]})}),e.jsx(O,{className:"rounded-none",children:e.jsxs("div",{className:"w-full flex items-center justify-between",children:[e.jsxs("div",{className:"w-full flex gap-4 items-center",children:[e.jsx("div",{children:e.jsx(q,{size:"lg",shape:"circle",icon:e.jsx(z,{})})}),e.jsxs("div",{className:"mt-2 flex flex-col gap-1 justify-center w-full",children:[e.jsx(N,{width:"40%"}),e.jsx(N,{width:"60%"})]})]}),e.jsx(L,{className:"text-xl"})]})}),e.jsx(O,{className:"rounded-none",children:e.jsxs("div",{className:"w-full flex items-center justify-between",children:[e.jsxs("div",{className:"w-full flex gap-4 items-center",children:[e.jsx("div",{children:e.jsx(q,{size:"lg",shape:"circle",icon:e.jsx(z,{})})}),e.jsxs("div",{className:"mt-2 flex flex-col gap-1 justify-center w-full",children:[e.jsx(N,{width:"40%"}),e.jsx(N,{width:"60%"})]})]}),e.jsx(L,{className:"text-xl"})]})})]})]}),qe=()=>{const{imagePath:s}=I,{enquiries:d}=x(n=>n.requests.data),{profile:v}=x(n=>n.auth.user),i=d==null?void 0:d.filter(n=>{var u;return((u=n==null?void 0:n.messages)==null?void 0:u.length)>0});return e.jsx("div",{className:"mt-4 mb-4",children:(i==null?void 0:i.length)<1?e.jsx("div",{className:"min-h-[20vh] flex flex-col justify-center",children:e.jsxs("p",{className:"text-center text-gray-400 font-bold text-2xl",children:["No enquiries, ",e.jsx("br",{})," check back later..."]})}):e.jsx("div",{children:i==null?void 0:i.map(n=>{var o,y,m,t,f,g;const u=(v==null?void 0:v.id)===((o=n==null?void 0:n.receiver)==null?void 0:o.id)?n==null?void 0:n.user:n==null?void 0:n.receiver;return e.jsx(ue,{to:`/chat/${u==null?void 0:u.slug}`,state:{chat:n.id},children:e.jsx(O,{className:"rounded-none",children:e.jsxs("div",{className:"w-full flex items-center justify-between",children:[e.jsxs("div",{className:"w-full flex gap-4 items-center",children:[e.jsx("div",{children:e.jsx(q,{size:"lg",shape:"circle",src:`${s}/${((y=u.service)==null?void 0:y.banner)||(u==null?void 0:u.image)}`,icon:e.jsx(z,{})})}),e.jsxs("div",{className:"mt-2 flex flex-col gap-1 justify-center w-full",children:[e.jsx("h4",{className:"text-base",children:((m=u.service)==null?void 0:m.title)||u.username}),e.jsx("p",{className:"text-gray-4b00 font-semibold",children:e.jsx(fe,{text:(g=(f=n.messages[((t=n.messages)==null?void 0:t.length)-1])==null?void 0:f.message)==null?void 0:g.replace(/<[^>]*>?/gm,""),maxTextCount:60})})]})]}),e.jsx(pe,{customToggleClass:"flex",placement:"top-end",renderTitle:e.jsx(Ee,{icon:e.jsx(L,{className:"text-xl text-gray-600"}),variant:"twoTone",shape:"round"})})]})})},n.id)})})})},ze=()=>{var a;const s=A(),{completingService:d,serviceStatus:v,booking:i}=x(r=>r.requests.data),{completeServiceDialog:n,bookingID:u}=x(r=>r.requests.state),{profile:o}=x(r=>r.auth.user),{createStatus:y,notification:m}=x(r=>r.notifications.data),t={receiver_id:i==null?void 0:i.user_id,type:"booking complete",data:JSON.stringify({message:`${(a=o==null?void 0:o.service)==null?void 0:a.title} has completed your service, please inspect the work and confirm if you are satisfied.`,booking_id:i==null?void 0:i.id}),url:"/requests"},f=(r,S,l,E)=>{H.push(e.jsx(U,{title:l||"Error",type:S||"warning",duration:E||3e3,children:r}),{placement:"top-center"})};h.useEffect(()=>{v==="error"&&f("Oops! Something went wrong, please try again.","danger","Error",4e3),s(le("idle"))},[v,s]),h.useEffect(()=>{var r,S,l;v==="success"&&(s(K(t)),W({app_id:"9749386f-0c3b-417c-b986-3447a73296cd",channel_for_external_user_ids:"push",include_external_user_ids:[`${(r=i==null?void 0:i.user)==null?void 0:r.id}`],url:`${I.appURL}/chat/${o==null?void 0:o.username.toLowerCase()}`,contents:{en:`Hello ${(S=i==null?void 0:i.user)==null?void 0:S.username}, ${o==null?void 0:o.username} has completed your service, please inspect the work and confirm if you are satisfied.`},content_available:!0}),f("We have notified the user that booked this service that it has been completed, please wait a moment for them to confirm.","success","Success",8e3)),s(V(!1)),s(le("idle")),R.emit("completedService",(l=i==null?void 0:i.user)==null?void 0:l.id,console.log("Emit Service Completed, Bookings: ",!0))},[v]),h.useEffect(()=>{y==="success"&&(R.emit("sendNotification",[m,i==null?void 0:i.user_id]),s(F("idle")))},[y]);const g=()=>{s(V(!1))},p=()=>{s(ve({booking_id:u}))};return e.jsx(me,{isOpen:n,onClose:g,onRequestClose:g,type:"success",title:"Service Completed?",onCancel:g,onConfirm:p,loading:d,children:e.jsx("p",{children:"Confirm that you have successfully completed this service?"})})},Te=()=>{var E;const s=A(),[d,v]=h.useState(0),[i,n]=h.useState(!1),[u,o]=h.useState("");console.log(u);const{confirmingService:y,confirmStatus:m,booking:t}=x(j=>j.requests.data),{confirmServiceDialog:f,bookingID:g}=x(j=>j.requests.state),{profile:p}=x(j=>j.auth.user),a=(j,_,c,C)=>{H.push(e.jsx(U,{title:c||"Error",type:_||"warning",duration:C||3e3,children:j}),{placement:"top-center"})};h.useEffect(()=>{d!==0&&i&&n(!1)},[d,i]),h.useEffect(()=>{m==="error"&&a("Oops! Something went wrong, please try again.","danger","Error",4e3),m==="rating error"&&a("Please kindly leave a rating and try again.","danger","Error",4e3),s(oe("idle"))},[m,s]),h.useEffect(()=>{var j,_,c,C,w,$;m==="success"&&(W({app_id:"9749386f-0c3b-417c-b986-3447a73296cd",channel_for_external_user_ids:"push",include_external_user_ids:[`${(_=(j=t==null?void 0:t.service)==null?void 0:j.user)==null?void 0:_.id}`],url:`${I.appURL}/chat/${p==null?void 0:p.username.toLowerCase()}`,contents:{en:`Hello ${(C=(c=t==null?void 0:t.service)==null?void 0:c.user)==null?void 0:C.username}, ${p==null?void 0:p.username} has confirmed the completion of this service, we have released the payment to your Taskitly account.`},content_available:!0}),a("Service completed and closed successfully.","success","Success",8e3)),s(X(!1)),s(D(null)),R.emit("confirmedService",($=(w=t==null?void 0:t.service)==null?void 0:w.user)==null?void 0:$.id),s(Z()),s(oe("idle"))},[m]);const r=()=>{if(d===0){n(!0);return}s(je({booking_id:g,rating:d,comment:u}))},S=j=>{var _;o((_=j.target)==null?void 0:_.value)},l=()=>{s(X(!1)),s(D(null))};return e.jsxs(se,{isOpen:f,onClose:l,onRequestClose:l,type:"success",title:"Are You Satisfied With This Service?",onCancel:l,onConfirm:r,loading:y,children:[e.jsx("h4",{className:"text-lg font-bold text-gray-700",children:"You are about to release payment"}),e.jsxs("p",{className:"text-base mt-4 text-gray-700",children:["By clicking on ",e.jsx("i",{children:'"Confirm"'}),", it means the service provider has completed their task for you, and you consider the service rendered."]}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("h4",{className:"text-lg font-bold text-gray-700 mt-4",children:["Kindly help us rate ",(E=t==null?void 0:t.service)==null?void 0:E.title," and leave a comment."]}),e.jsxs("div",{children:[e.jsx(Re,{style:{maxWidth:250},value:d,onChange:v}),i&&e.jsx(te.p,{initial:{opacity:0,visibility:"hidden"},animate:{opacity:1,visibility:"visible"},transition:{duration:.3,type:"tween"},exit:{opacity:0,visibility:"hidden"},className:"text-xs text-red-500 mt-2",children:"Please kindly rate this service"})]}),e.jsx(ie,{className:"w-full block text-sm outline-none p-3 bg-gray-100 overflow-auto resize-none rounded-md border-0 active:border-0",onChange:S,value:u,placeholder:"Your comment on the service provider and the service they rendered.",maxRows:10,minRows:5}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-700 italic",children:"Only Taskitly team can see this comment, it is not published to the general public."}),e.jsx("p",{className:"text-xs text-red-500 italic",children:"This is to help us ensure proper service providers are on the platform."})]}),e.jsxs("div",{className:"flex items-center gap-4 w-full justify-end",children:[e.jsx(Y,{className:"!bg-white",onClick:l,children:"Cancel"}),e.jsx(Y,{variant:"solid",onClick:r,loading:y,children:"Confirm"})]})]})]})},Be=()=>{var a;const s=A(),{startingService:d,startStatus:v,booking:i}=x(r=>r.requests.data),{startServiceDialog:n,bookingID:u}=x(r=>r.requests.state),{profile:o}=x(r=>r.auth.user),{createStatus:y,notification:m}=x(r=>r.notifications.data),t={receiver_id:i==null?void 0:i.user_id,type:"booking start",data:JSON.stringify({message:`${(a=o==null?void 0:o.service)==null?void 0:a.title} has resumed your service.`,booking_id:i==null?void 0:i.id}),url:"/requests"},f=(r,S,l,E)=>{H.push(e.jsx(U,{title:l||"Error",type:S||"warning",duration:E||3e3,children:r}),{placement:"top-center"})};h.useEffect(()=>{v==="error"&&f("Oops! Something went wrong, please try again.","danger","Error",4e3),s(de("idle"))},[v,s]),h.useEffect(()=>{var r,S,l;v==="success"&&(s(K(t)),W({app_id:"9749386f-0c3b-417c-b986-3447a73296cd",channel_for_external_user_ids:"push",include_external_user_ids:[`${(r=i==null?void 0:i.user)==null?void 0:r.id}`],url:`${I.appURL}/chat/${o==null?void 0:o.username.toLowerCase()}`,contents:{en:`Hello ${(S=i==null?void 0:i.user)==null?void 0:S.username}, ${o==null?void 0:o.username} has officially resumed service, we will let you know when he is done.`},content_available:!0}),f("Service resumed.","success","Success",8e3)),s(Q(!1)),s(de("idle")),R.emit("startedService",(l=i==null?void 0:i.user)==null?void 0:l.id,console.log("Emit Service Started, Bookings: ",!0))},[v]),h.useEffect(()=>{y==="success"&&(R.emit("sendNotification",[m,i==null?void 0:i.user_id]),s(F("idle")))},[y]);const g=()=>{s(Q(!1))},p=()=>{s(ge({booking_id:u}))};return e.jsx(me,{isOpen:n,onClose:g,onRequestClose:g,type:"success",title:"Start Service?",onCancel:g,onConfirm:p,loading:d,children:e.jsx("p",{children:"Officially resume this service?"})})},Pe=()=>{var c,C;const s=A(),[d,v]=h.useState(""),[i,n]=h.useState(!1),[u,o]=he(),{cancellingService:y,cancelStatus:m,booking:t}=x(w=>w.requests.data),{cancelServiceDialog:f,bookingID:g}=x(w=>w.requests.state),{profile:p}=x(w=>w.auth.user),{createStatus:a,notification:r}=x(w=>w.notifications.data),S={receiver_id:t==null?void 0:t.user_id,type:"booking cancelled",data:JSON.stringify({message:`${(c=p==null?void 0:p.service)==null?void 0:c.title} has cancelled this service request, your refund will be processed shortly.`,invoice_number:(C=t==null?void 0:t.invoice)==null?void 0:C.invoice_number,booking_id:t==null?void 0:t.id}),url:"/requests"},l=(w,$,T,B)=>{H.push(e.jsx(U,{title:T||"Error",type:$||"warning",duration:B||3e3,children:w}),{placement:"top-center"})};h.useEffect(()=>{d.length!==0&&i&&n(!1)},[d,i]),h.useEffect(()=>{m==="error"&&(l("Oops! Something went wrong, please try again.","danger","Error",4e3),s(G("idle"))),m==="reason error"&&(l("Please let us know why you are cancelling this request.","danger","Error",4e3),s(G("idle")))},[m,s]),h.useEffect(()=>{var w,$,T,B;m==="success"&&(s(K(S)),W({app_id:"9749386f-0c3b-417c-b986-3447a73296cd",channel_for_external_user_ids:"push",include_external_user_ids:[`${(w=t==null?void 0:t.user)==null?void 0:w.id}`],url:`${I.appURL}/requests`,contents:{en:`Hello ${($=t==null?void 0:t.user)==null?void 0:$.username}, ${p==null?void 0:p.username} has cancelled the service #${(T=t==null?void 0:t.invoice)==null?void 0:T.invoice_number}, your refund will be processed shortly.`},content_available:!0}),l("Service cancelled.","success","Success",8e3)),s(k(!1)),s(D(null)),R.emit("cancelledService",(B=t==null?void 0:t.user)==null?void 0:B.id),s(Z()),s(G("idle"))},[m]),h.useEffect(()=>{a==="success"&&(R.emit("sendNotification",[r,t==null?void 0:t.user_id]),s(F("idle")))},[a]);const E=w=>{var $;v(($=w.target)==null?void 0:$.value)},j=()=>{if(d.length<1){n(!0),o();return}s(we({booking_id:g,reason:d}))},_=()=>{s(k(!1)),s(D(null))};return e.jsxs(se,{isOpen:f,onClose:_,onRequestClose:_,type:"info",title:"Are You Sure You Want to Cancel This Service?",onCancel:_,onConfirm:j,loading:y,children:[e.jsx("h4",{className:"text-lg font-bold text-gray-700",children:"You are about to cancel this request"}),e.jsxs("div",{className:"mt-4",children:[e.jsx(ie,{className:"w-full block text-sm outline-none p-3 bg-gray-200 overflow-auto resize-none rounded-md border-0 active:border-0",onChange:E,value:d,placeholder:"Kindly tell us why you want to cancel this service request.",maxRows:10,minRows:5,ref:u}),i&&e.jsx(te.p,{initial:{opacity:0,visibility:"hidden"},animate:{opacity:1,visibility:"visible"},transition:{duration:.3,type:"tween"},exit:{opacity:0,visibility:"hidden"},className:"text-xs text-red-500 mt-2",children:"Please kindly tell us why you are cancelling this service request"}),e.jsxs("div",{className:"flex items-center gap-4 w-full justify-end mt-4",children:[e.jsx(Y,{className:"!bg-white",onClick:_,children:"Cancel"}),e.jsx(Y,{variant:"solid",color:"red-500",onClick:j,loading:y,children:"Confirm"})]})]})]})},Ye=()=>{var w,$,T,B,ae,ce,ne,re;const s=A(),[d,v]=h.useState(""),[i,n]=h.useState(!1),[u,o]=he(),{openingDispute:y,disputeStatus:m,booking:t,dispute:f}=x(b=>b.requests.data),{openDisputeDialog:g,bookingID:p}=x(b=>b.requests.state),{profile:a}=x(b=>b.auth.user),{createStatus:r,notification:S}=x(b=>b.notifications.data);let l;((w=t==null?void 0:t.user)==null?void 0:w.id)===(a==null?void 0:a.id)?l=($=t==null?void 0:t.service)==null?void 0:$.user:((B=(T=t==null?void 0:t.service)==null?void 0:T.user)==null?void 0:B.id)===(a==null?void 0:a.id)&&(l=t==null?void 0:t.user);const E={receiver_id:l==null?void 0:l.id,type:"booking disputed",data:JSON.stringify({message:`${(ae=a==null?void 0:a.service)!=null&&ae.title?(ce=a==null?void 0:a.service)==null?void 0:ce.title:`${a==null?void 0:a.first_name} ${a==null?void 0:a.last_name}`} has opened dispute on the service request #${(ne=t==null?void 0:t.invoice)==null?void 0:ne.invoice_number}, you have 24hrs to respond.`,invoice_number:(re=t==null?void 0:t.invoice)==null?void 0:re.invoice_number,booking_id:t==null?void 0:t.id}),url:`/requests/disputes/${f==null?void 0:f.id}`},j=(b,P,J,xe)=>{H.push(e.jsx(U,{title:J||"Error",type:P||"warning",duration:xe||3e3,children:b}),{placement:"top-center"})};h.useEffect(()=>{d.length!==0&&i&&n(!1)},[d,i]),h.useEffect(()=>{m==="error"&&(j("Oops! Something went wrong, please try again.","danger","Error",4e3),s(M("idle"))),m==="reason error"&&(j("Please let us know why you want to lodge a complaint.","danger","Error",4e3),s(M("idle")))},[s,m]),h.useEffect(()=>{var b,P,J;m==="success"&&(s(K(E)),W({app_id:"9749386f-0c3b-417c-b986-3447a73296cd",channel_for_external_user_ids:"push",include_external_user_ids:[`${l==null?void 0:l.id}`],url:`${I.appURL}/requests/disputes/${f==null?void 0:f.id}`,contents:{en:`${(b=a==null?void 0:a.service)!=null&&b.title?(P=a==null?void 0:a.service)==null?void 0:P.title:`${a==null?void 0:a.first_name} ${a==null?void 0:a.last_name}`} has opened dispute on the service request #${(J=t==null?void 0:t.invoice)==null?void 0:J.invoice_number}, you have 24hrs to respond.`},content_available:!0}),j("Service in dispute.","success","Success",8e3)),s(ee(!1)),s(D(null)),R.emit("openedDispute",l==null?void 0:l.id),s(Z()),s(M("idle"))},[m]),h.useEffect(()=>{r==="success"&&(R.emit("sendNotification",[S,l==null?void 0:l.id]),s(F("idle")))},[r]);const _=b=>{var P;v((P=b.target)==null?void 0:P.value)},c=()=>{if(d.length<1){n(!0),o();return}s(ye({booking_id:p,reason:d}))},C=()=>{s(ee(!1)),s(D(null))};return e.jsxs(se,{isOpen:g,onClose:C,onRequestClose:C,type:"info",title:"Are You Sure You Want to Report This Service Request?",onCancel:C,onConfirm:c,loading:y,children:[e.jsx("h4",{className:"text-lg font-bold text-gray-700",children:"You are about to report this service request"}),e.jsxs("div",{className:"mt-4",children:[e.jsx(ie,{className:"w-full block text-sm outline-none p-3 bg-gray-200 overflow-auto resize-none rounded-md border-0 active:border-0",onChange:_,value:d,placeholder:"Kindly tell us what you are dissatisfied about.",maxRows:10,minRows:5,ref:u}),i&&e.jsx(te.p,{initial:{opacity:0,visibility:"hidden"},animate:{opacity:1,visibility:"visible"},transition:{duration:.3,type:"tween"},exit:{opacity:0,visibility:"hidden"},className:"text-xs text-red-500 mt-2",children:"Please kindly tell us what you are dissatisfied about"}),e.jsxs("div",{className:"flex items-center gap-4 w-full justify-end mt-4",children:[e.jsx(Y,{className:"!bg-white",onClick:C,children:"Cancel"}),e.jsx(Y,{variant:"solid",color:"red-500",onClick:c,loading:y,children:"Confirm"})]})]})]})};Se("requests",$e);const We=()=>{const s=A(),{imagePath:d}=I,{bookings:v,booking:i,completingService:n,confirmingService:u}=x(c=>c.requests.data),{bookingID:o}=x(c=>c.requests.state),{userType:y}=x(c=>c.auth.user),m=y==="Provider",{loading:t,serviceCompleted:f,serviceConfirmed:g,serviceStarted:p,serviceCancelled:a}=x(c=>{var C;return(C=c.requests)==null?void 0:C.data});window.OneSignal=window.OneSignal||[];const r=window.OneSignal;r.push(()=>{r.init({appId:"9749386f-0c3b-417c-b986-3447a73296cd",safari_web_id:"web.onesignal.auto.4d0b3421-6847-4c4b-a531-b4bcf634e4d8",allowLocalhostAsSecureOrigin:!0,autoResubscribe:!0})}),h.useEffect(()=>{(f||g||p||a)&&s(Z()),f?s(Ne(!1)):g?s(_e(!1)):p?s(Ce(!1)):a&&s(be(!1))},[s,a,f,g,p]);const S=c=>{s(ee(!0)),s(D(c==null?void 0:c.id))},l=c=>{s(Q(!0)),s(D(c==null?void 0:c.id))},E=c=>{s(k(!0)),s(D(c==null?void 0:c.id))},j=c=>{s(V(!0)),s(D(c==null?void 0:c.id))},_=c=>{s(X(!0)),s(D(c==null?void 0:c.id))};return e.jsxs("div",{className:"mt-2 p-4",children:[t?e.jsx(Oe,{}):e.jsxs("div",{children:[e.jsx("h4",{children:"Active Bookings"}),e.jsx("div",{className:"mt-4 mb-4",children:e.jsx(De,{imagePath:d,bookings:v,booking:i,completingService:n,confirmingService:u,bookingID:o,isProvider:m,onComplete:j,onConfirm:_,onStart:l,onCancel:E,onReport:S})}),e.jsx("h4",{children:"Enquiries"}),e.jsx("div",{className:"min-h-[50vh]",children:e.jsx(qe,{})})]}),e.jsx("div",{className:"sticky bottom-24 flex justify-end mr-5",children:e.jsx(ue,{to:"history",children:e.jsx(Y,{variant:"solid",children:"Booking History"})})}),e.jsx(ze,{socket:R.current}),e.jsx(Te,{socket:R.current}),e.jsx(Be,{}),e.jsx(Pe,{}),e.jsx(Ye,{})]})};export{We as default};
