import{J as oe,i as de,b as B,r as p,d as m,cA as Z,bE as Y,N as z,bH as N,cB as U,bI as H,j as e,E as se,x as te,z as F,a1 as J,a2 as G,cC as ue,cD as k,ca as ae,cE as he,w as b,D as me,O as $,ar as E,a as fe,cF as W,cG as xe,S as g,cH as ee,cI as pe,k as ve,cJ as ge,G as je,cK as ye,cL as we}from"./index-d4dc8e82.js";import{u as ie,s as K,i as ce}from"./sendPushNotification-1b22d883.js";import{B as Se}from"./BillsComponent-624edc44.js";import{B as De}from"./index-d78f4409.js";const be=oe.injectEndpoints({endpoints:s=>({getDashboard:s.query({query:()=>"/dashboard",providesTags:["Dashboard"],staleTime:15*60*1e3}),completeService:s.mutation({query:a=>({url:"/service/complete",method:"POST",body:a}),invalidatesTags:["Dashboard"]}),confirmService:s.mutation({query:a=>({url:"/service/confirm",method:"POST",body:a}),invalidatesTags:["Dashboard"]}),startService:s.mutation({query:a=>({url:"/service/start",method:"POST",body:a}),invalidatesTags:["Dashboard"]}),cancelService:s.mutation({query:a=>({url:"/service/cancel",method:"POST",body:a}),invalidatesTags:["Dashboard"]}),openDispute:s.mutation({query:a=>({url:"/service/dispute/new",method:"POST",body:a})}),closeDispute:s.mutation({query:a=>({url:"/service/dispute/close",method:"POST",body:a})})}),keepUnusedDataFor:15*60}),{useGetDashboardQuery:Ce}=be;function re(){const{data:s,isLoading:a,isError:n}=Ce(),t=s==null?void 0:s.status,h=s==null?void 0:s.enquiries,v=s==null?void 0:s.bookingsCount,l=s==null?void 0:s.bookings,f=s==null?void 0:s.disputes;return{dashboard:s,status:t,enquiries:h,bookingsCount:v,bookings:l,disputes:f,isLoading:a,isError:n}}const le=de({name:"dashboard/state",initialState:{startServiceDialog:!1,startService:!1,completeServiceDialog:!1,completeService:!1,confirmServiceDialog:!1,confirmService:!1,cancelServiceDialog:!1,cancelService:!1,openDisputeDialog:!1,openDispute:!1,bookingID:null},reducers:{setBookingID:(s,a)=>{s.bookingID=a.payload},setOpenDispute:(s,a)=>{s.openDispute=a.payload},setStartService:(s,a)=>{s.startService=a.payload},setCancelService:(s,a)=>{s.cancelService=a.payload},setConfirmService:(s,a)=>{s.confirmService=a.payload},setCompleteService:(s,a)=>{s.completeService=a.payload},toggleOpenDisputeDialog:(s,a)=>{s.openDisputeDialog=a.payload},toggleStartServiceDialog:(s,a)=>{s.startServiceDialog=a.payload},toggleCancelServiceDialog:(s,a)=>{s.cancelServiceDialog=a.payload},toggleCompleteServiceDialog:(s,a)=>{s.completeServiceDialog=a.payload},toggleConfirmServiceDialog:(s,a)=>{s.confirmServiceDialog=a.payload}}}),{setBookingID:q,setOpenDispute:Ue,setStartService:Fe,setCancelService:Ye,setConfirmService:He,setCompleteService:Je,toggleOpenDisputeDialog:V,toggleStartServiceDialog:Q,toggleCancelServiceDialog:M,toggleConfirmServiceDialog:Ge,toggleCompleteServiceDialog:X}=le.actions,Ne=le.reducer,_e=()=>{var L,R;const s=B(),[a,n]=p.useState(""),[t,h]=p.useState(!1),[v,l]=ie(),{cancellingService:f,cancelStatus:u,booking:i}=m(y=>y.dashboard.data),{cancelServiceDialog:x,bookingID:w}=m(y=>y.dashboard.state),{profile:j}=m(y=>y.auth.user),{createStatus:c,notification:r}=m(y=>y.notifications.data),S={receiver_id:i==null?void 0:i.user_id,type:"booking cancelled",data:JSON.stringify({message:`${(L=j==null?void 0:j.service)==null?void 0:L.title} has cancelled this service request, your refund will be processed shortly.`,invoice_number:(R=i==null?void 0:i.invoice)==null?void 0:R.invoice_number,booking_id:i==null?void 0:i.id}),url:"/requests"},d=(y,C,O,P)=>{J.push(e.jsx(G,{title:O||"Error",type:C||"warning",duration:P||3e3,children:y}),{placement:"top-center"})};p.useEffect(()=>{a.length!==0&&t&&h(!1)},[a,t]),p.useEffect(()=>{u==="error"&&(d("Oops! Something went wrong, please try again.","danger","Error",4e3),s(Z("idle"))),u==="reason error"&&d("Please let us know why you are cancelling this request.","danger","Error",4e3)},[u,s]),p.useEffect(()=>{var y,C,O,P;u==="success"&&(s(Y(S)),K({app_id:"9749386f-0c3b-417c-b986-3447a73296cd",channel_for_external_user_ids:"push",include_external_user_ids:[`${(y=i==null?void 0:i.user)==null?void 0:y.id}`],url:`${z.appURL}/requests`,contents:{en:`Hello ${(C=i==null?void 0:i.user)==null?void 0:C.username}, ${j==null?void 0:j.username} has cancelled the service #${(O=i==null?void 0:i.invoice)==null?void 0:O.invoice_number}, your refund will be processed shortly.`},content_available:!0}),d("Service cancelled.","success","Success",8e3)),s(M(!1)),s(q(null)),N.emit("cancelledService",(P=i==null?void 0:i.user)==null?void 0:P.id),s(U()),s(Z("idle"))},[u]),p.useEffect(()=>{c==="success"&&(N.emit("sendNotification",[r,i==null?void 0:i.user_id]),s(H("idle")))},[c]);const o=y=>{var C;n((C=y.target)==null?void 0:C.value)},_=()=>{if(a.length<1){h(!0),l();return}s(ue({booking_id:w,reason:a}))},T=()=>{s(M(!1)),s(q(null))};return e.jsxs(se,{isOpen:x,onClose:T,onRequestClose:T,type:"info",title:"Are You Sure You Want to Cancel This Service?",onCancel:T,onConfirm:_,loading:f,children:[e.jsx("h4",{className:"text-lg font-bold text-gray-700",children:"You are about to cancel this request"}),e.jsxs("div",{className:"mt-4",children:[e.jsx(ce,{className:"w-full block text-sm outline-none p-3 bg-gray-200 overflow-auto resize-none rounded-md border-0 active:border-0",onChange:o,value:a,placeholder:"Kindly tell us why you want to cancel this service request.",maxRows:10,minRows:5,ref:v}),t&&e.jsx(te.p,{initial:{opacity:0,visibility:"hidden"},animate:{opacity:1,visibility:"visible"},transition:{duration:.3,type:"tween"},exit:{opacity:0,visibility:"hidden"},className:"text-xs text-red-500 mt-2",children:"Please kindly tell us why you are cancelling this service request"}),e.jsxs("div",{className:"flex items-center gap-4 w-full justify-end mt-4",children:[e.jsx(F,{className:"!bg-white",onClick:T,children:"Cancel"}),e.jsx(F,{variant:"solid",color:"red-500",onClick:_,loading:f,children:"Confirm"})]})]})]})},$e=()=>{var c;const s=B(),{completingService:a,serviceStatus:n,booking:t}=m(r=>r.dashboard.data),{completeServiceDialog:h,bookingID:v}=m(r=>r.dashboard.state),{profile:l}=m(r=>r.auth.user),{createStatus:f,notification:u}=m(r=>r.notifications.data),i={receiver_id:t==null?void 0:t.user_id,type:"booking complete",data:JSON.stringify({message:`${(c=l==null?void 0:l.service)==null?void 0:c.title} has completed your service, please inspect the work and confirm if you are satisfied.`,booking_id:t==null?void 0:t.id}),url:"/requests"},x=(r,S,d,o)=>{J.push(e.jsx(G,{title:d||"Error",type:S||"warning",duration:o||3e3,children:r}),{placement:"top-center"})};p.useEffect(()=>{n==="error"&&x("Oops! Something went wrong, please try again.","danger","Error",4e3),s(k("idle"))},[n,s]),p.useEffect(()=>{var r,S,d;n==="success"&&(s(Y(i)),K({app_id:"9749386f-0c3b-417c-b986-3447a73296cd",channel_for_external_user_ids:"push",include_external_user_ids:[`${(r=t==null?void 0:t.user)==null?void 0:r.id}`],url:`${z.appURL}/chat/${l==null?void 0:l.username.toLowerCase()}`,contents:{en:`Hello ${(S=t==null?void 0:t.user)==null?void 0:S.username}, ${l==null?void 0:l.username} has completed your service, please inspect the work and confirm if you are satisfied.`},content_available:!0}),x("We have notified the user that booked this service that it has been completed, please wait a moment for them to confirm.","success","Success",8e3)),s(X(!1)),s(k("idle")),N.emit("completedService",(d=t==null?void 0:t.user)==null?void 0:d.id,console.log("Emit Service Completed, Dashboard: ",!0))},[n]),p.useEffect(()=>{f==="success"&&(N.emit("sendNotification",[u,t==null?void 0:t.user_id]),s(H("idle")))},[f]);const w=()=>{s(X(!1))},j=()=>{s(he({booking_id:v}))};return e.jsx(ae,{isOpen:h,onClose:w,onRequestClose:w,type:"success",title:"Service Completed?",onCancel:w,onConfirm:j,loading:a,children:e.jsx("p",{children:"Confirm that you have successfully completed this service?"})})},Ee=({bookingsCount:s,profile:a})=>{var n;return e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"w-1/2 min-w-[18rem] h-40",bodyClass:"h-full",children:e.jsxs("div",{className:"w-full h-full flex flex-col gap-4 justify-center items-center",children:[e.jsx("h4",{className:"text-gray-600",children:"All Profile Views"}),e.jsx("h4",{className:"font-semibold",children:(n=a==null?void 0:a.profile_views)==null?void 0:n.toLocaleString()})]})}),e.jsx(b,{className:"w-1/2 min-w-[18rem] h-40",bodyClass:"h-full",children:e.jsxs("div",{className:"w-full h-full flex flex-col gap-4 justify-center items-center",children:[e.jsx("h4",{className:"text-gray-600",children:"All Service Requests"}),e.jsx("h4",{className:"font-semibold",children:s==null?void 0:s.toLocaleString()})]})})]})},qe=({data:s,imagePath:a})=>{const n=s==null?void 0:s.filter(t=>{var h;return((h=t.messages)==null?void 0:h.length)>0});return e.jsx(e.Fragment,{children:(n==null?void 0:n.length)<1?e.jsx("div",{className:"min-h-[20vh] w-full flex flex-col justify-center",children:e.jsxs("p",{className:"text-center text-gray-400 font-bold text-2xl",children:["You don't have ",e.jsx("br",{})," any unanswered chats..."]})}):e.jsx(e.Fragment,{children:n==null?void 0:n.map(t=>{var h,v,l,f,u;return e.jsx(me,{to:`/chat/${(h=t.user)==null?void 0:h.slug}`,state:{chat:t.id},children:e.jsxs(b,{className:"min-w-[10rem] w-40",bodyClass:"flex w-full flex-col justify-center items-center",children:[e.jsx($,{size:"lg",shape:"circle",icon:e.jsx(E,{}),src:(v=t.user)!=null&&v.image?`${a}/${(l=t.user)==null?void 0:l.image}`:null}),e.jsx("h4",{className:"font-semibold text-base",children:`${(f=t==null?void 0:t.user)==null?void 0:f.first_name} ${(u=t==null?void 0:t.user)==null?void 0:u.last_name}`})]})},t.id)})})})},Re=()=>{const s=B(),{bookings:a,bookingsCount:n,enquiries:t}=re(),{userType:h,user:v}=fe(),{imagePath:l}=z,{booking:f,completingService:u,confirmingService:i}=m(o=>o.dashboard.data),{bookingID:x}=m(o=>o.dashboard.state),w=h==="Provider",j=t==null?void 0:t.filter(o=>o.messages.every(_=>_.sender_id!==(v==null?void 0:v.id))),c=o=>{s(V(!0)),s(q(o==null?void 0:o.id))},r=o=>{s(X(!0)),s(q(o==null?void 0:o.id))},S=o=>{s(Q(!0)),s(q(o==null?void 0:o.id))},d=o=>{s(M(!0)),s(q(o==null?void 0:o.id))};return e.jsxs("div",{children:[e.jsx("h4",{children:"Active Bookings"}),e.jsx("div",{className:"mt-4 mb-4",children:e.jsx(De,{imagePath:l,bookings:a,isProvider:w,booking:f,completingService:u,confirmingService:i,bookingID:x,onComplete:r,onStart:S,onCancel:d,onReport:c})}),e.jsx("h4",{children:"Unanswered Request Chats"}),e.jsx("div",{className:"mt-4 mb-4 flex gap-4 overflow-auto pb-4",children:e.jsx(qe,{data:j,imagePath:l})}),e.jsx("div",{className:"mt-4 mb-4 w-full flex items-center gap-4 overflow-auto pb-4",children:e.jsx(Ee,{bookingsCount:n,profile:v})}),e.jsx(Se,{})]})},Oe=()=>{var y,C,O,P;const s=B(),[a,n]=p.useState(""),[t,h]=p.useState(!1),[v,l]=ie(),{openingDispute:f,disputeStatus:u,booking:i,dispute:x}=m(D=>D.dashboard.data),{openDisputeDialog:w,bookingID:j}=m(D=>D.dashboard.state),{profile:c}=m(D=>D.auth.user),{createStatus:r,notification:S}=m(D=>D.notifications.data),d=i==null?void 0:i.user,o={receiver_id:d==null?void 0:d.id,type:"booking disputed",data:JSON.stringify({message:`${(y=c==null?void 0:c.service)!=null&&y.title?(C=c==null?void 0:c.service)==null?void 0:C.title:`${c==null?void 0:c.first_name} ${c==null?void 0:c.last_name}`} has opened dispute on the service request #${(O=i==null?void 0:i.invoice)==null?void 0:O.invoice_number}, you have 24hrs to respond.`,invoice_number:(P=i==null?void 0:i.invoice)==null?void 0:P.invoice_number,booking_id:i==null?void 0:i.id}),url:`/requests/disputes/${x==null?void 0:x.id}`},_=(D,I,A,ne)=>{J.push(e.jsx(G,{title:A||"Error",type:I||"warning",duration:ne||3e3,children:D}),{placement:"top-center"})};p.useEffect(()=>{a.length!==0&&t&&h(!1)},[a,t]),p.useEffect(()=>{u==="error"&&(_("Oops! Something went wrong, please try again.","danger","Error",4e3),s(W("idle"))),u==="reason error"&&(_("Please let us know why you want to lodge a complaint.","danger","Error",4e3),s(W("idle")))},[s,u]),p.useEffect(()=>{var D,I,A;u==="success"&&(s(Y(o)),K({app_id:"9749386f-0c3b-417c-b986-3447a73296cd",channel_for_external_user_ids:"push",include_external_user_ids:[`${d==null?void 0:d.id}`],url:`${z.appURL}/requests/disputes/${x==null?void 0:x.id}`,contents:{en:`${(D=c==null?void 0:c.service)!=null&&D.title?(I=c==null?void 0:c.service)==null?void 0:I.title:`${c==null?void 0:c.first_name} ${c==null?void 0:c.last_name}`} has opened dispute on the service request #${(A=i==null?void 0:i.invoice)==null?void 0:A.invoice_number}, you have 24hrs to respond.`},content_available:!0}),_("Service in dispute.","success","Success",8e3)),s(V(!1)),s(q(null)),N.emit("openedDispute",d==null?void 0:d.id),s(U()),s(W("idle"))},[u]),p.useEffect(()=>{r==="success"&&(N.emit("sendNotification",[S,d==null?void 0:d.id]),s(H("idle")))},[r]);const T=D=>{var I;n((I=D.target)==null?void 0:I.value)},L=()=>{if(a.length<1){h(!0),l();return}s(xe({booking_id:j,reason:a}))},R=()=>{s(V(!1)),s(q(null))};return e.jsxs(se,{isOpen:w,onClose:R,onRequestClose:R,type:"info",title:"Are You Sure You Want to Report This Service Request?",onCancel:R,onConfirm:L,loading:f,children:[e.jsx("h4",{className:"text-lg font-bold text-gray-700",children:"You are about to report this service request"}),e.jsxs("div",{className:"mt-4",children:[e.jsx(ce,{className:"w-full block text-sm outline-none p-3 bg-gray-200 overflow-auto resize-none rounded-md border-0 active:border-0",onChange:T,value:a,placeholder:"Kindly tell us what you are dissatisfied about.",maxRows:10,minRows:5,ref:v}),t&&e.jsx(te.p,{initial:{opacity:0,visibility:"hidden"},animate:{opacity:1,visibility:"visible"},transition:{duration:.3,type:"tween"},exit:{opacity:0,visibility:"hidden"},className:"text-xs text-red-500 mt-2",children:"Please kindly tell us what you are dissatisfied about"}),e.jsxs("div",{className:"flex items-center gap-4 w-full justify-end mt-4",children:[e.jsx(F,{className:"!bg-white",onClick:R,children:"Cancel"}),e.jsx(F,{variant:"solid",color:"red-500",onClick:L,loading:f,children:"Confirm"})]})]})]})},Pe=()=>e.jsxs("div",{children:[e.jsx("h4",{children:"Active Bookings"}),e.jsxs("div",{className:"mt-4 mb-4 flex gap-4 overflow-auto pb-4",children:[e.jsx(b,{className:"min-w-[18rem] w-80",bodyClass:"flex w-full flex-col justify-center items-center",children:e.jsxs("div",{className:"w-full flex items-center gap-4",children:[e.jsxs("div",{className:"w-1/2 flex flex-col items-center",children:[e.jsx($,{size:"lg",shape:"circle",icon:e.jsx(E,{})}),e.jsxs("div",{className:"mt-2 flex flex-col gap-1 justify-center items-center w-full",children:[e.jsx(g,{width:"80%"}),e.jsx(g,{width:"100%"})]})]}),e.jsx(g,{width:"50%",height:"30px"})]})}),e.jsx(b,{className:"min-w-[18rem] w-80",bodyClass:"flex w-full flex-col justify-center items-center",children:e.jsxs("div",{className:"w-full flex items-center gap-4",children:[e.jsxs("div",{className:"w-1/2 flex flex-col items-center",children:[e.jsx($,{size:"lg",shape:"circle",icon:e.jsx(E,{})}),e.jsxs("div",{className:"mt-2 flex flex-col gap-1 justify-center items-center w-full",children:[e.jsx(g,{width:"80%"}),e.jsx(g,{width:"100%"})]})]}),e.jsx(g,{width:"50%",height:"30px"})]})}),e.jsx(b,{className:"min-w-[18rem] w-80",bodyClass:"flex w-full flex-col justify-center items-center",children:e.jsxs("div",{className:"w-full flex items-center gap-4",children:[e.jsxs("div",{className:"w-1/2 flex flex-col items-center",children:[e.jsx($,{size:"lg",shape:"circle",icon:e.jsx(E,{})}),e.jsxs("div",{className:"mt-2 flex flex-col gap-1 justify-center items-center w-full",children:[e.jsx(g,{width:"80%"}),e.jsx(g,{width:"100%"})]})]}),e.jsx(g,{width:"50%",height:"30px"})]})})]}),e.jsx("h4",{children:"Unanswered Request Chats"}),e.jsxs("div",{className:"mt-4 mb-4 flex gap-4 overflow-auto pb-4",children:[e.jsxs(b,{className:"min-w-[10rem] w-40",bodyClass:"flex w-full flex-col justify-center items-center",children:[e.jsx($,{size:"lg",shape:"circle",icon:e.jsx(E,{})}),e.jsxs("div",{className:"mt-2 flex flex-col gap-1 justify-center items-center w-full",children:[e.jsx(g,{width:"80%"}),e.jsx(g,{width:"100%"})]})]}),e.jsxs(b,{className:"min-w-[10rem] w-40",bodyClass:"flex w-full flex-col justify-center items-center",children:[e.jsx($,{size:"lg",shape:"circle",icon:e.jsx(E,{})}),e.jsxs("div",{className:"mt-2 flex flex-col gap-1 justify-center items-center w-full",children:[e.jsx(g,{width:"80%"}),e.jsx(g,{width:"100%"})]})]}),e.jsxs(b,{className:"min-w-[10rem] w-40",bodyClass:"flex w-full flex-col justify-center items-center",children:[e.jsx($,{size:"lg",shape:"circle",icon:e.jsx(E,{})}),e.jsxs("div",{className:"mt-2 flex flex-col gap-1 justify-center items-center w-full",children:[e.jsx(g,{width:"80%"}),e.jsx(g,{width:"100%"})]})]}),e.jsxs(b,{className:"min-w-[10rem] w-40",bodyClass:"flex w-full flex-col justify-center items-center",children:[e.jsx($,{size:"lg",shape:"circle",icon:e.jsx(E,{})}),e.jsxs("div",{className:"mt-2 flex flex-col gap-1 justify-center items-center w-full",children:[e.jsx(g,{width:"80%"}),e.jsx(g,{width:"100%"})]})]})]}),e.jsxs("div",{className:"mt-4 mb-4 w-full flex items-center gap-4 overflow-auto pb-4",children:[e.jsx(b,{className:"w-1/2 min-w-[18rem] h-40",bodyClass:"h-full",children:e.jsxs("div",{className:"w-full h-full flex flex-col gap-4 justify-center items-center",children:[e.jsx("h4",{children:"All Profile Views"}),e.jsx(g,{width:"30%",height:"15px"})]})}),e.jsx(b,{className:"w-1/2 min-w-[18rem] h-40",bodyClass:"h-full",children:e.jsxs("div",{className:"w-full h-full flex flex-col gap-4 justify-center items-center",children:[e.jsx("h4",{children:"All Service Requests"}),e.jsx(g,{width:"30%",height:"15px"})]})})]})]}),Ie=()=>{var c;const s=B(),{startingService:a,startStatus:n,booking:t}=m(r=>r.dashboard.data),{startServiceDialog:h,bookingID:v}=m(r=>r.dashboard.state),{profile:l}=m(r=>r.auth.user),{createStatus:f,notification:u}=m(r=>r.notifications.data),i={receiver_id:t==null?void 0:t.user_id,type:"booking start",data:JSON.stringify({message:`${(c=l==null?void 0:l.service)==null?void 0:c.title} has resumed your service.`,booking_id:t==null?void 0:t.id}),url:"/requests"},x=(r,S,d,o)=>{J.push(e.jsx(G,{title:d||"Error",type:S||"warning",duration:o||3e3,children:r}),{placement:"top-center"})};p.useEffect(()=>{n==="error"&&x("Oops! Something went wrong, please try again.","danger","Error",4e3),s(ee("idle"))},[n,s]),p.useEffect(()=>{var r,S,d;n==="success"&&(s(Y(i)),K({app_id:"9749386f-0c3b-417c-b986-3447a73296cd",channel_for_external_user_ids:"push",include_external_user_ids:[`${(r=t==null?void 0:t.user)==null?void 0:r.id}`],url:`${z.appURL}/chat/${l==null?void 0:l.username.toLowerCase()}`,contents:{en:`Hello ${(S=t==null?void 0:t.user)==null?void 0:S.username}, ${l==null?void 0:l.username} has officially resumed service, we will let you know when he is done.`},content_available:!0}),x("Service resumed.","success","Success",8e3)),s(Q(!1)),s(ee("idle")),N.emit("startedService",(d=t==null?void 0:t.user)==null?void 0:d.id,console.log("Emit Service Started, Bookings: ",!0))},[n]),p.useEffect(()=>{f==="success"&&(N.emit("sendNotification",[u,t==null?void 0:t.user_id]),s(H("idle")))},[f]);const w=()=>{s(Q(!1))},j=()=>{s(pe({booking_id:v}))};return e.jsx(ae,{isOpen:h,onClose:w,onRequestClose:w,type:"success",title:"Start Service?",onCancel:w,onConfirm:j,loading:a,children:e.jsx("p",{children:"Officially resume this service?"})})},Te=ve({state:Ne,data:ge});je("dashboard",Te);const Ke=()=>{const s=B(),{isLoading:a,isError:n,dashboard:t,bookings:h,bookingsCount:v,disputes:l,enquiries:f,status:u}=re();console.log("dash from useDashboard: ",t),console.log("IsLoading from useDashboard: ",a),console.log("IsError from useDashboard: ",n),console.log("Bookings from useDashboard: ",h),console.log("Disputes from useDashboard: ",l),console.log("Enquiries from useDashboard: ",f),console.log("BookingsCount from useDashboard: ",v),console.log("Status from useDashboard: ",u);const{serviceCompleted:i,serviceConfirmed:x,serviceStarted:w,serviceCancelled:j}=m(r=>r.dashboard.data),{serviceBooked:c}=m(r=>r.chat.data);return m(r=>r.dashboard.data),p.useEffect(()=>{s(U())},[s]),p.useEffect(()=>{(i||x||c||w||j)&&s(U()),i?s(ye(!1)):x&&s(we(!1))},[s,i,x,c,w,j]),e.jsxs("div",{className:"mt-10 mb-8 px-4",children:[a?e.jsx(Pe,{}):e.jsx(Re,{}),e.jsx($e,{socket:N.current}),e.jsx(Ie,{}),e.jsx(_e,{}),e.jsx(Oe,{})]})};export{Ke as default};
